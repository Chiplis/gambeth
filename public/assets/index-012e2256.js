import{i as me,g as ve,d as pe,a as Wr,s as ge,r as Qr,b as $r,c as Me,m as Pr}from"./mobile-771bbfa9.js";import{bS as Ar,b as qr,i as Gr,B as Mr,bT as ye,bU as we,bV as Or,bW as Tr,bX as Er,bY as zr,bZ as pr}from"./index-77f93194.js";const _e=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],Vr=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];var Br={exports:{}};Br.exports;(function(v){(function(d,g){function c(f,t){if(!f)throw new Error(t||"Assertion failed")}function R(f,t){f.super_=t;var e=function(){};e.prototype=t.prototype,f.prototype=new e,f.prototype.constructor=f}function u(f,t,e){if(u.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((t==="le"||t==="be")&&(e=t,t=10),this._init(f||0,t||10,e||"be"))}typeof d=="object"?d.exports=u:g.BN=u,u.BN=u,u.wordSize=26;var vt;try{vt=Ar().Buffer}catch{}u.isBN=function(t){return t instanceof u?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===u.wordSize&&Array.isArray(t.words)},u.max=function(t,e){return t.cmp(e)>0?t:e},u.min=function(t,e){return t.cmp(e)<0?t:e},u.prototype._init=function(t,e,i){if(typeof t=="number")return this._initNumber(t,e,i);if(typeof t=="object")return this._initArray(t,e,i);e==="hex"&&(e=16),c(e===(e|0)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var n=0;t[0]==="-"&&n++,e===16?this._parseHex(t,n):this._parseBase(t,e,n),t[0]==="-"&&(this.negative=1),this.strip(),i==="le"&&this._initArray(this.toArray(),e,i)},u.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(c(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),e,i)},u.prototype._initArray=function(t,e,i){if(c(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,a,l=0;if(i==="be")for(n=t.length-1,o=0;n>=0;n-=3)a=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=a<<l&67108863,this.words[o+1]=a>>>26-l&67108863,l+=24,l>=26&&(l-=26,o++);else if(i==="le")for(n=0,o=0;n<t.length;n+=3)a=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=a<<l&67108863,this.words[o+1]=a>>>26-l&67108863,l+=24,l>=26&&(l-=26,o++);return this.strip()};function gt(f,t,e){for(var i=0,n=Math.min(f.length,e),o=t;o<n;o++){var a=f.charCodeAt(o)-48;i<<=4,a>=49&&a<=54?i|=a-49+10:a>=17&&a<=22?i|=a-17+10:i|=a&15}return i}u.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o,a=0;for(i=t.length-6,n=0;i>=e;i-=6)o=gt(t,i,i+6),this.words[n]|=o<<a&67108863,this.words[n+1]|=o>>>26-a&4194303,a+=24,a>=26&&(a-=26,n++);i+6!==e&&(o=gt(t,e,i+6),this.words[n]|=o<<a&67108863,this.words[n+1]|=o>>>26-a&4194303),this.strip()};function T(f,t,e,i){for(var n=0,o=Math.min(f.length,e),a=t;a<o;a++){var l=f.charCodeAt(a)-48;n*=i,l>=49?n+=l-49+10:l>=17?n+=l-17+10:n+=l}return n}u.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,o=1;o<=67108863;o*=e)n++;n--,o=o/e|0;for(var a=t.length-i,l=a%n,s=Math.min(a,a-l)+i,r=0,h=i;h<s;h+=n)r=T(t,h,h+n,e),this.imuln(o),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r);if(l!==0){var y=1;for(r=T(t,h,t.length,e),h=0;h<l;h++)y*=e;this.imuln(y),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r)}},u.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},u.prototype.clone=function(){var t=new u(null);return this.copy(t),t},u.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var pt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],St=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_t=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(t,e){t=t||10,e=e|0||1;var i;if(t===16||t==="hex"){i="";for(var n=0,o=0,a=0;a<this.length;a++){var l=this.words[a],s=((l<<n|o)&16777215).toString(16);o=l>>>24-n&16777215,o!==0||a!==this.length-1?i=pt[6-s.length]+s+i:i=s+i,n+=2,n>=26&&(n-=26,a--)}for(o!==0&&(i=o.toString(16)+i);i.length%e!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(t===(t|0)&&t>=2&&t<=36){var r=St[t],h=_t[t];i="";var y=this.clone();for(y.negative=0;!y.isZero();){var _=y.modn(h).toString(t);y=y.idivn(h),y.isZero()?i=_+i:i=pt[r-_.length]+_+i}for(this.isZero()&&(i="0"+i);i.length%e!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}c(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(t,e){return c(typeof vt<"u"),this.toArrayLike(vt,t,e)},u.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},u.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);c(n<=o,"byte array longer than desired length"),c(o>0,"Requested array length <= 0"),this.strip();var a=e==="le",l=new t(o),s,r,h=this.clone();if(a){for(r=0;!h.isZero();r++)s=h.andln(255),h.iushrn(8),l[r]=s;for(;r<o;r++)l[r]=0}else{for(r=0;r<o-n;r++)l[r]=0;for(r=0;!h.isZero();r++)s=h.andln(255),h.iushrn(8),l[o-r-1]=s}return l},Math.clz32?u.prototype._countBits=function(t){return 32-Math.clz32(t)}:u.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},u.prototype._zeroBits=function(t){if(t===0)return 26;var e=t,i=0;return e&8191||(i+=13,e>>>=13),e&127||(i+=7,e>>>=7),e&15||(i+=4,e>>>=4),e&3||(i+=2,e>>>=2),e&1||i++,i},u.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return(this.length-1)*26+e};function xt(f){for(var t=new Array(f.bitLength()),e=0;e<t.length;e++){var i=e/26|0,n=e%26;t[e]=(f.words[i]&1<<n)>>>n}return t}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,i!==26)break}return t},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},u.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},u.prototype.ior=function(t){return c((this.negative|t.negative)===0),this.iuor(t)},u.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},u.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},u.prototype.iuand=function(t){var e;this.length>t.length?e=t:e=this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},u.prototype.iand=function(t){return c((this.negative|t.negative)===0),this.iuand(t)},u.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},u.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},u.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},u.prototype.ixor=function(t){return c((this.negative|t.negative)===0),this.iuxor(t)},u.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},u.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},u.prototype.inotn=function(t){c(typeof t=="number"&&t>=0);var e=Math.ceil(t/26)|0,i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=~this.words[n]&67108863;return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},u.prototype.notn=function(t){return this.clone().inotn(t)},u.prototype.setn=function(t,e){c(typeof t=="number"&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),e?this.words[i]=this.words[i]|1<<n:this.words[i]=this.words[i]&~(1<<n),this.strip()},u.prototype.iadd=function(t){var e;if(this.negative!==0&&t.negative===0)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();var i,n;this.length>t.length?(i=this,n=t):(i=t,n=this);for(var o=0,a=0;a<n.length;a++)e=(i.words[a]|0)+(n.words[a]|0)+o,this.words[a]=e&67108863,o=e>>>26;for(;o!==0&&a<i.length;a++)e=(i.words[a]|0)+o,this.words[a]=e&67108863,o=e>>>26;if(this.length=i.length,o!==0)this.words[this.length]=o,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},u.prototype.add=function(t){var e;return t.negative!==0&&this.negative===0?(t.negative=0,e=this.sub(t),t.negative^=1,e):t.negative===0&&this.negative!==0?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},u.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i=this.cmp(t);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,o;i>0?(n=this,o=t):(n=t,o=this);for(var a=0,l=0;l<o.length;l++)e=(n.words[l]|0)-(o.words[l]|0)+a,a=e>>26,this.words[l]=e&67108863;for(;a!==0&&l<n.length;l++)e=(n.words[l]|0)+a,a=e>>26,this.words[l]=e&67108863;if(a===0&&l<n.length&&n!==this)for(;l<n.length;l++)this.words[l]=n.words[l];return this.length=Math.max(this.length,l),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(t){return this.clone().isub(t)};function yt(f,t,e){e.negative=t.negative^f.negative;var i=f.length+t.length|0;e.length=i,i=i-1|0;var n=f.words[0]|0,o=t.words[0]|0,a=n*o,l=a&67108863,s=a/67108864|0;e.words[0]=l;for(var r=1;r<i;r++){for(var h=s>>>26,y=s&67108863,_=Math.min(r,t.length-1),x=Math.max(0,r-f.length+1);x<=_;x++){var b=r-x|0;n=f.words[b]|0,o=t.words[x]|0,a=n*o+y,h+=a/67108864|0,y=a&67108863}e.words[r]=y|0,s=h|0}return s!==0?e.words[r]=s|0:e.length--,e.strip()}var bt=function(t,e,i){var n=t.words,o=e.words,a=i.words,l=0,s,r,h,y=n[0]|0,_=y&8191,x=y>>>13,b=n[1]|0,I=b&8191,A=b>>>13,Mt=n[2]|0,q=Mt&8191,O=Mt>>>13,Dt=n[3]|0,N=Dt&8191,L=Dt>>>13,jt=n[4]|0,C=jt&8191,F=jt>>>13,Jt=n[5]|0,U=Jt&8191,Z=Jt>>>13,Wt=n[6]|0,$=Wt&8191,P=Wt>>>13,Qt=n[7]|0,z=Qt&8191,H=Qt>>>13,Gt=n[8]|0,K=Gt&8191,D=Gt>>>13,Vt=n[9]|0,j=Vt&8191,J=Vt>>>13,Yt=o[0]|0,W=Yt&8191,Q=Yt>>>13,Xt=o[1]|0,G=Xt&8191,V=Xt>>>13,tr=o[2]|0,Y=tr&8191,X=tr>>>13,rr=o[3]|0,tt=rr&8191,rt=rr>>>13,er=o[4]|0,et=er&8191,it=er>>>13,ir=o[5]|0,nt=ir&8191,st=ir>>>13,nr=o[6]|0,ht=nr&8191,ot=nr>>>13,sr=o[7]|0,ft=sr&8191,at=sr>>>13,hr=o[8]|0,ut=hr&8191,lt=hr>>>13,or=o[9]|0,dt=or&8191,ct=or>>>13;i.negative=t.negative^e.negative,i.length=19,s=Math.imul(_,W),r=Math.imul(_,Q),r=r+Math.imul(x,W)|0,h=Math.imul(x,Q);var Rt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,s=Math.imul(I,W),r=Math.imul(I,Q),r=r+Math.imul(A,W)|0,h=Math.imul(A,Q),s=s+Math.imul(_,G)|0,r=r+Math.imul(_,V)|0,r=r+Math.imul(x,G)|0,h=h+Math.imul(x,V)|0;var It=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(It>>>26)|0,It&=67108863,s=Math.imul(q,W),r=Math.imul(q,Q),r=r+Math.imul(O,W)|0,h=Math.imul(O,Q),s=s+Math.imul(I,G)|0,r=r+Math.imul(I,V)|0,r=r+Math.imul(A,G)|0,h=h+Math.imul(A,V)|0,s=s+Math.imul(_,Y)|0,r=r+Math.imul(_,X)|0,r=r+Math.imul(x,Y)|0,h=h+Math.imul(x,X)|0;var At=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(At>>>26)|0,At&=67108863,s=Math.imul(N,W),r=Math.imul(N,Q),r=r+Math.imul(L,W)|0,h=Math.imul(L,Q),s=s+Math.imul(q,G)|0,r=r+Math.imul(q,V)|0,r=r+Math.imul(O,G)|0,h=h+Math.imul(O,V)|0,s=s+Math.imul(I,Y)|0,r=r+Math.imul(I,X)|0,r=r+Math.imul(A,Y)|0,h=h+Math.imul(A,X)|0,s=s+Math.imul(_,tt)|0,r=r+Math.imul(_,rt)|0,r=r+Math.imul(x,tt)|0,h=h+Math.imul(x,rt)|0;var qt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,s=Math.imul(C,W),r=Math.imul(C,Q),r=r+Math.imul(F,W)|0,h=Math.imul(F,Q),s=s+Math.imul(N,G)|0,r=r+Math.imul(N,V)|0,r=r+Math.imul(L,G)|0,h=h+Math.imul(L,V)|0,s=s+Math.imul(q,Y)|0,r=r+Math.imul(q,X)|0,r=r+Math.imul(O,Y)|0,h=h+Math.imul(O,X)|0,s=s+Math.imul(I,tt)|0,r=r+Math.imul(I,rt)|0,r=r+Math.imul(A,tt)|0,h=h+Math.imul(A,rt)|0,s=s+Math.imul(_,et)|0,r=r+Math.imul(_,it)|0,r=r+Math.imul(x,et)|0,h=h+Math.imul(x,it)|0;var Ot=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,s=Math.imul(U,W),r=Math.imul(U,Q),r=r+Math.imul(Z,W)|0,h=Math.imul(Z,Q),s=s+Math.imul(C,G)|0,r=r+Math.imul(C,V)|0,r=r+Math.imul(F,G)|0,h=h+Math.imul(F,V)|0,s=s+Math.imul(N,Y)|0,r=r+Math.imul(N,X)|0,r=r+Math.imul(L,Y)|0,h=h+Math.imul(L,X)|0,s=s+Math.imul(q,tt)|0,r=r+Math.imul(q,rt)|0,r=r+Math.imul(O,tt)|0,h=h+Math.imul(O,rt)|0,s=s+Math.imul(I,et)|0,r=r+Math.imul(I,it)|0,r=r+Math.imul(A,et)|0,h=h+Math.imul(A,it)|0,s=s+Math.imul(_,nt)|0,r=r+Math.imul(_,st)|0,r=r+Math.imul(x,nt)|0,h=h+Math.imul(x,st)|0;var Tt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,s=Math.imul($,W),r=Math.imul($,Q),r=r+Math.imul(P,W)|0,h=Math.imul(P,Q),s=s+Math.imul(U,G)|0,r=r+Math.imul(U,V)|0,r=r+Math.imul(Z,G)|0,h=h+Math.imul(Z,V)|0,s=s+Math.imul(C,Y)|0,r=r+Math.imul(C,X)|0,r=r+Math.imul(F,Y)|0,h=h+Math.imul(F,X)|0,s=s+Math.imul(N,tt)|0,r=r+Math.imul(N,rt)|0,r=r+Math.imul(L,tt)|0,h=h+Math.imul(L,rt)|0,s=s+Math.imul(q,et)|0,r=r+Math.imul(q,it)|0,r=r+Math.imul(O,et)|0,h=h+Math.imul(O,it)|0,s=s+Math.imul(I,nt)|0,r=r+Math.imul(I,st)|0,r=r+Math.imul(A,nt)|0,h=h+Math.imul(A,st)|0,s=s+Math.imul(_,ht)|0,r=r+Math.imul(_,ot)|0,r=r+Math.imul(x,ht)|0,h=h+Math.imul(x,ot)|0;var Et=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,s=Math.imul(z,W),r=Math.imul(z,Q),r=r+Math.imul(H,W)|0,h=Math.imul(H,Q),s=s+Math.imul($,G)|0,r=r+Math.imul($,V)|0,r=r+Math.imul(P,G)|0,h=h+Math.imul(P,V)|0,s=s+Math.imul(U,Y)|0,r=r+Math.imul(U,X)|0,r=r+Math.imul(Z,Y)|0,h=h+Math.imul(Z,X)|0,s=s+Math.imul(C,tt)|0,r=r+Math.imul(C,rt)|0,r=r+Math.imul(F,tt)|0,h=h+Math.imul(F,rt)|0,s=s+Math.imul(N,et)|0,r=r+Math.imul(N,it)|0,r=r+Math.imul(L,et)|0,h=h+Math.imul(L,it)|0,s=s+Math.imul(q,nt)|0,r=r+Math.imul(q,st)|0,r=r+Math.imul(O,nt)|0,h=h+Math.imul(O,st)|0,s=s+Math.imul(I,ht)|0,r=r+Math.imul(I,ot)|0,r=r+Math.imul(A,ht)|0,h=h+Math.imul(A,ot)|0,s=s+Math.imul(_,ft)|0,r=r+Math.imul(_,at)|0,r=r+Math.imul(x,ft)|0,h=h+Math.imul(x,at)|0;var Bt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,s=Math.imul(K,W),r=Math.imul(K,Q),r=r+Math.imul(D,W)|0,h=Math.imul(D,Q),s=s+Math.imul(z,G)|0,r=r+Math.imul(z,V)|0,r=r+Math.imul(H,G)|0,h=h+Math.imul(H,V)|0,s=s+Math.imul($,Y)|0,r=r+Math.imul($,X)|0,r=r+Math.imul(P,Y)|0,h=h+Math.imul(P,X)|0,s=s+Math.imul(U,tt)|0,r=r+Math.imul(U,rt)|0,r=r+Math.imul(Z,tt)|0,h=h+Math.imul(Z,rt)|0,s=s+Math.imul(C,et)|0,r=r+Math.imul(C,it)|0,r=r+Math.imul(F,et)|0,h=h+Math.imul(F,it)|0,s=s+Math.imul(N,nt)|0,r=r+Math.imul(N,st)|0,r=r+Math.imul(L,nt)|0,h=h+Math.imul(L,st)|0,s=s+Math.imul(q,ht)|0,r=r+Math.imul(q,ot)|0,r=r+Math.imul(O,ht)|0,h=h+Math.imul(O,ot)|0,s=s+Math.imul(I,ft)|0,r=r+Math.imul(I,at)|0,r=r+Math.imul(A,ft)|0,h=h+Math.imul(A,at)|0,s=s+Math.imul(_,ut)|0,r=r+Math.imul(_,lt)|0,r=r+Math.imul(x,ut)|0,h=h+Math.imul(x,lt)|0;var Nt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,s=Math.imul(j,W),r=Math.imul(j,Q),r=r+Math.imul(J,W)|0,h=Math.imul(J,Q),s=s+Math.imul(K,G)|0,r=r+Math.imul(K,V)|0,r=r+Math.imul(D,G)|0,h=h+Math.imul(D,V)|0,s=s+Math.imul(z,Y)|0,r=r+Math.imul(z,X)|0,r=r+Math.imul(H,Y)|0,h=h+Math.imul(H,X)|0,s=s+Math.imul($,tt)|0,r=r+Math.imul($,rt)|0,r=r+Math.imul(P,tt)|0,h=h+Math.imul(P,rt)|0,s=s+Math.imul(U,et)|0,r=r+Math.imul(U,it)|0,r=r+Math.imul(Z,et)|0,h=h+Math.imul(Z,it)|0,s=s+Math.imul(C,nt)|0,r=r+Math.imul(C,st)|0,r=r+Math.imul(F,nt)|0,h=h+Math.imul(F,st)|0,s=s+Math.imul(N,ht)|0,r=r+Math.imul(N,ot)|0,r=r+Math.imul(L,ht)|0,h=h+Math.imul(L,ot)|0,s=s+Math.imul(q,ft)|0,r=r+Math.imul(q,at)|0,r=r+Math.imul(O,ft)|0,h=h+Math.imul(O,at)|0,s=s+Math.imul(I,ut)|0,r=r+Math.imul(I,lt)|0,r=r+Math.imul(A,ut)|0,h=h+Math.imul(A,lt)|0,s=s+Math.imul(_,dt)|0,r=r+Math.imul(_,ct)|0,r=r+Math.imul(x,dt)|0,h=h+Math.imul(x,ct)|0;var Lt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,s=Math.imul(j,G),r=Math.imul(j,V),r=r+Math.imul(J,G)|0,h=Math.imul(J,V),s=s+Math.imul(K,Y)|0,r=r+Math.imul(K,X)|0,r=r+Math.imul(D,Y)|0,h=h+Math.imul(D,X)|0,s=s+Math.imul(z,tt)|0,r=r+Math.imul(z,rt)|0,r=r+Math.imul(H,tt)|0,h=h+Math.imul(H,rt)|0,s=s+Math.imul($,et)|0,r=r+Math.imul($,it)|0,r=r+Math.imul(P,et)|0,h=h+Math.imul(P,it)|0,s=s+Math.imul(U,nt)|0,r=r+Math.imul(U,st)|0,r=r+Math.imul(Z,nt)|0,h=h+Math.imul(Z,st)|0,s=s+Math.imul(C,ht)|0,r=r+Math.imul(C,ot)|0,r=r+Math.imul(F,ht)|0,h=h+Math.imul(F,ot)|0,s=s+Math.imul(N,ft)|0,r=r+Math.imul(N,at)|0,r=r+Math.imul(L,ft)|0,h=h+Math.imul(L,at)|0,s=s+Math.imul(q,ut)|0,r=r+Math.imul(q,lt)|0,r=r+Math.imul(O,ut)|0,h=h+Math.imul(O,lt)|0,s=s+Math.imul(I,dt)|0,r=r+Math.imul(I,ct)|0,r=r+Math.imul(A,dt)|0,h=h+Math.imul(A,ct)|0;var Ct=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,s=Math.imul(j,Y),r=Math.imul(j,X),r=r+Math.imul(J,Y)|0,h=Math.imul(J,X),s=s+Math.imul(K,tt)|0,r=r+Math.imul(K,rt)|0,r=r+Math.imul(D,tt)|0,h=h+Math.imul(D,rt)|0,s=s+Math.imul(z,et)|0,r=r+Math.imul(z,it)|0,r=r+Math.imul(H,et)|0,h=h+Math.imul(H,it)|0,s=s+Math.imul($,nt)|0,r=r+Math.imul($,st)|0,r=r+Math.imul(P,nt)|0,h=h+Math.imul(P,st)|0,s=s+Math.imul(U,ht)|0,r=r+Math.imul(U,ot)|0,r=r+Math.imul(Z,ht)|0,h=h+Math.imul(Z,ot)|0,s=s+Math.imul(C,ft)|0,r=r+Math.imul(C,at)|0,r=r+Math.imul(F,ft)|0,h=h+Math.imul(F,at)|0,s=s+Math.imul(N,ut)|0,r=r+Math.imul(N,lt)|0,r=r+Math.imul(L,ut)|0,h=h+Math.imul(L,lt)|0,s=s+Math.imul(q,dt)|0,r=r+Math.imul(q,ct)|0,r=r+Math.imul(O,dt)|0,h=h+Math.imul(O,ct)|0;var Ft=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,s=Math.imul(j,tt),r=Math.imul(j,rt),r=r+Math.imul(J,tt)|0,h=Math.imul(J,rt),s=s+Math.imul(K,et)|0,r=r+Math.imul(K,it)|0,r=r+Math.imul(D,et)|0,h=h+Math.imul(D,it)|0,s=s+Math.imul(z,nt)|0,r=r+Math.imul(z,st)|0,r=r+Math.imul(H,nt)|0,h=h+Math.imul(H,st)|0,s=s+Math.imul($,ht)|0,r=r+Math.imul($,ot)|0,r=r+Math.imul(P,ht)|0,h=h+Math.imul(P,ot)|0,s=s+Math.imul(U,ft)|0,r=r+Math.imul(U,at)|0,r=r+Math.imul(Z,ft)|0,h=h+Math.imul(Z,at)|0,s=s+Math.imul(C,ut)|0,r=r+Math.imul(C,lt)|0,r=r+Math.imul(F,ut)|0,h=h+Math.imul(F,lt)|0,s=s+Math.imul(N,dt)|0,r=r+Math.imul(N,ct)|0,r=r+Math.imul(L,dt)|0,h=h+Math.imul(L,ct)|0;var Ut=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,s=Math.imul(j,et),r=Math.imul(j,it),r=r+Math.imul(J,et)|0,h=Math.imul(J,it),s=s+Math.imul(K,nt)|0,r=r+Math.imul(K,st)|0,r=r+Math.imul(D,nt)|0,h=h+Math.imul(D,st)|0,s=s+Math.imul(z,ht)|0,r=r+Math.imul(z,ot)|0,r=r+Math.imul(H,ht)|0,h=h+Math.imul(H,ot)|0,s=s+Math.imul($,ft)|0,r=r+Math.imul($,at)|0,r=r+Math.imul(P,ft)|0,h=h+Math.imul(P,at)|0,s=s+Math.imul(U,ut)|0,r=r+Math.imul(U,lt)|0,r=r+Math.imul(Z,ut)|0,h=h+Math.imul(Z,lt)|0,s=s+Math.imul(C,dt)|0,r=r+Math.imul(C,ct)|0,r=r+Math.imul(F,dt)|0,h=h+Math.imul(F,ct)|0;var Zt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,s=Math.imul(j,nt),r=Math.imul(j,st),r=r+Math.imul(J,nt)|0,h=Math.imul(J,st),s=s+Math.imul(K,ht)|0,r=r+Math.imul(K,ot)|0,r=r+Math.imul(D,ht)|0,h=h+Math.imul(D,ot)|0,s=s+Math.imul(z,ft)|0,r=r+Math.imul(z,at)|0,r=r+Math.imul(H,ft)|0,h=h+Math.imul(H,at)|0,s=s+Math.imul($,ut)|0,r=r+Math.imul($,lt)|0,r=r+Math.imul(P,ut)|0,h=h+Math.imul(P,lt)|0,s=s+Math.imul(U,dt)|0,r=r+Math.imul(U,ct)|0,r=r+Math.imul(Z,dt)|0,h=h+Math.imul(Z,ct)|0;var $t=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+($t>>>26)|0,$t&=67108863,s=Math.imul(j,ht),r=Math.imul(j,ot),r=r+Math.imul(J,ht)|0,h=Math.imul(J,ot),s=s+Math.imul(K,ft)|0,r=r+Math.imul(K,at)|0,r=r+Math.imul(D,ft)|0,h=h+Math.imul(D,at)|0,s=s+Math.imul(z,ut)|0,r=r+Math.imul(z,lt)|0,r=r+Math.imul(H,ut)|0,h=h+Math.imul(H,lt)|0,s=s+Math.imul($,dt)|0,r=r+Math.imul($,ct)|0,r=r+Math.imul(P,dt)|0,h=h+Math.imul(P,ct)|0;var Pt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,s=Math.imul(j,ft),r=Math.imul(j,at),r=r+Math.imul(J,ft)|0,h=Math.imul(J,at),s=s+Math.imul(K,ut)|0,r=r+Math.imul(K,lt)|0,r=r+Math.imul(D,ut)|0,h=h+Math.imul(D,lt)|0,s=s+Math.imul(z,dt)|0,r=r+Math.imul(z,ct)|0,r=r+Math.imul(H,dt)|0,h=h+Math.imul(H,ct)|0;var zt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(zt>>>26)|0,zt&=67108863,s=Math.imul(j,ut),r=Math.imul(j,lt),r=r+Math.imul(J,ut)|0,h=Math.imul(J,lt),s=s+Math.imul(K,dt)|0,r=r+Math.imul(K,ct)|0,r=r+Math.imul(D,dt)|0,h=h+Math.imul(D,ct)|0;var Ht=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,s=Math.imul(j,dt),r=Math.imul(j,ct),r=r+Math.imul(J,dt)|0,h=Math.imul(J,ct);var Kt=(l+s|0)+((r&8191)<<13)|0;return l=(h+(r>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,a[0]=Rt,a[1]=It,a[2]=At,a[3]=qt,a[4]=Ot,a[5]=Tt,a[6]=Et,a[7]=Bt,a[8]=Nt,a[9]=Lt,a[10]=Ct,a[11]=Ft,a[12]=Ut,a[13]=Zt,a[14]=$t,a[15]=Pt,a[16]=zt,a[17]=Ht,a[18]=Kt,l!==0&&(a[19]=l,i.length++),i};Math.imul||(bt=yt);function kt(f,t,e){e.negative=t.negative^f.negative,e.length=f.length+t.length;for(var i=0,n=0,o=0;o<e.length-1;o++){var a=n;n=0;for(var l=i&67108863,s=Math.min(o,t.length-1),r=Math.max(0,o-f.length+1);r<=s;r++){var h=o-r,y=f.words[h]|0,_=t.words[r]|0,x=y*_,b=x&67108863;a=a+(x/67108864|0)|0,b=b+l|0,l=b&67108863,a=a+(b>>>26)|0,n+=a>>>26,a&=67108863}e.words[o]=l,i=a,a=n}return i!==0?e.words[o]=i:e.length--,e.strip()}function m(f,t,e){var i=new p;return i.mulp(f,t,e)}u.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return this.length===10&&t.length===10?i=bt(this,t,e):n<63?i=yt(this,t,e):n<1024?i=kt(this,t,e):i=m(this,t,e),i};function p(f,t){this.x=f,this.y=t}p.prototype.makeRBT=function(t){for(var e=new Array(t),i=u.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},p.prototype.revBin=function(t,e,i){if(t===0||t===i-1)return t;for(var n=0,o=0;o<e;o++)n|=(t&1)<<e-o-1,t>>=1;return n},p.prototype.permute=function(t,e,i,n,o,a){for(var l=0;l<a;l++)n[l]=e[t[l]],o[l]=i[t[l]]},p.prototype.transform=function(t,e,i,n,o,a){this.permute(a,t,e,i,n,o);for(var l=1;l<o;l<<=1)for(var s=l<<1,r=Math.cos(2*Math.PI/s),h=Math.sin(2*Math.PI/s),y=0;y<o;y+=s)for(var _=r,x=h,b=0;b<l;b++){var I=i[y+b],A=n[y+b],Mt=i[y+b+l],q=n[y+b+l],O=_*Mt-x*q;q=_*q+x*Mt,Mt=O,i[y+b]=I+Mt,n[y+b]=A+q,i[y+b+l]=I-Mt,n[y+b+l]=A-q,b!==s&&(O=r*_-h*x,x=r*x+h*_,_=O)}},p.prototype.guessLen13b=function(t,e){var i=Math.max(e,t)|1,n=i&1,o=0;for(i=i/2|0;i;i=i>>>1)o++;return 1<<o+1+n},p.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var o=t[n];t[n]=t[i-n-1],t[i-n-1]=o,o=e[n],e[n]=-e[i-n-1],e[i-n-1]=-o}},p.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var o=Math.round(t[2*n+1]/e)*8192+Math.round(t[2*n]/e)+i;t[n]=o&67108863,o<67108864?i=0:i=o/67108864|0}return t},p.prototype.convert13b=function(t,e,i,n){for(var o=0,a=0;a<e;a++)o=o+(t[a]|0),i[2*a]=o&8191,o=o>>>13,i[2*a+1]=o&8191,o=o>>>13;for(a=2*e;a<n;++a)i[a]=0;c(o===0),c((o&-8192)===0)},p.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},p.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),o=this.makeRBT(n),a=this.stub(n),l=new Array(n),s=new Array(n),r=new Array(n),h=new Array(n),y=new Array(n),_=new Array(n),x=i.words;x.length=n,this.convert13b(t.words,t.length,l,n),this.convert13b(e.words,e.length,h,n),this.transform(l,a,s,r,n,o),this.transform(h,a,y,_,n,o);for(var b=0;b<n;b++){var I=s[b]*y[b]-r[b]*_[b];r[b]=s[b]*_[b]+r[b]*y[b],s[b]=I}return this.conjugate(s,r,n),this.transform(s,r,x,a,n,o),this.conjugate(x,a,n),this.normalize13b(x,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},u.prototype.mul=function(t){var e=new u(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},u.prototype.mulf=function(t){var e=new u(null);return e.words=new Array(this.length+t.length),m(this,t,e)},u.prototype.imul=function(t){return this.clone().mulTo(t,this)},u.prototype.imuln=function(t){c(typeof t=="number"),c(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(this.words[i]|0)*t,o=(n&67108863)+(e&67108863);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=o&67108863}return e!==0&&(this.words[i]=e,this.length++),this},u.prototype.muln=function(t){return this.clone().imuln(t)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(t){var e=xt(t);if(e.length===0)return new u(1);for(var i=this,n=0;n<e.length&&e[n]===0;n++,i=i.sqr());if(++n<e.length)for(var o=i.sqr();n<e.length;n++,o=o.sqr())e[n]!==0&&(i=i.mul(o));return i},u.prototype.iushln=function(t){c(typeof t=="number"&&t>=0);var e=t%26,i=(t-e)/26,n=67108863>>>26-e<<26-e,o;if(e!==0){var a=0;for(o=0;o<this.length;o++){var l=this.words[o]&n,s=(this.words[o]|0)-l<<e;this.words[o]=s|a,a=l>>>26-e}a&&(this.words[o]=a,this.length++)}if(i!==0){for(o=this.length-1;o>=0;o--)this.words[o+i]=this.words[o];for(o=0;o<i;o++)this.words[o]=0;this.length+=i}return this.strip()},u.prototype.ishln=function(t){return c(this.negative===0),this.iushln(t)},u.prototype.iushrn=function(t,e,i){c(typeof t=="number"&&t>=0);var n;e?n=(e-e%26)/26:n=0;var o=t%26,a=Math.min((t-o)/26,this.length),l=67108863^67108863>>>o<<o,s=i;if(n-=a,n=Math.max(0,n),s){for(var r=0;r<a;r++)s.words[r]=this.words[r];s.length=a}if(a!==0)if(this.length>a)for(this.length-=a,r=0;r<this.length;r++)this.words[r]=this.words[r+a];else this.words[0]=0,this.length=1;var h=0;for(r=this.length-1;r>=0&&(h!==0||r>=n);r--){var y=this.words[r]|0;this.words[r]=h<<26-o|y>>>o,h=y&l}return s&&h!==0&&(s.words[s.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(t,e,i){return c(this.negative===0),this.iushrn(t,e,i)},u.prototype.shln=function(t){return this.clone().ishln(t)},u.prototype.ushln=function(t){return this.clone().iushln(t)},u.prototype.shrn=function(t){return this.clone().ishrn(t)},u.prototype.ushrn=function(t){return this.clone().iushrn(t)},u.prototype.testn=function(t){c(typeof t=="number"&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return!1;var o=this.words[i];return!!(o&n)},u.prototype.imaskn=function(t){c(typeof t=="number"&&t>=0);var e=t%26,i=(t-e)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(e!==0&&i++,this.length=Math.min(i,this.length),e!==0){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(t){return this.clone().imaskn(t)},u.prototype.iaddn=function(t){return c(typeof t=="number"),c(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},u.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},u.prototype.isubn=function(t){if(c(typeof t=="number"),c(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},u.prototype.addn=function(t){return this.clone().iaddn(t)},u.prototype.subn=function(t){return this.clone().isubn(t)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(t,e,i){var n=t.length+i,o;this._expand(n);var a,l=0;for(o=0;o<t.length;o++){a=(this.words[o+i]|0)+l;var s=(t.words[o]|0)*e;a-=s&67108863,l=(a>>26)-(s/67108864|0),this.words[o+i]=a&67108863}for(;o<this.length-i;o++)a=(this.words[o+i]|0)+l,l=a>>26,this.words[o+i]=a&67108863;if(l===0)return this.strip();for(c(l===-1),l=0,o=0;o<this.length;o++)a=-(this.words[o]|0)+l,l=a>>26,this.words[o]=a&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(t,e){var i=this.length-t.length,n=this.clone(),o=t,a=o.words[o.length-1]|0,l=this._countBits(a);i=26-l,i!==0&&(o=o.ushln(i),n.iushln(i),a=o.words[o.length-1]|0);var s=n.length-o.length,r;if(e!=="mod"){r=new u(null),r.length=s+1,r.words=new Array(r.length);for(var h=0;h<r.length;h++)r.words[h]=0}var y=n.clone()._ishlnsubmul(o,1,s);y.negative===0&&(n=y,r&&(r.words[s]=1));for(var _=s-1;_>=0;_--){var x=(n.words[o.length+_]|0)*67108864+(n.words[o.length+_-1]|0);for(x=Math.min(x/a|0,67108863),n._ishlnsubmul(o,x,_);n.negative!==0;)x--,n.negative=0,n._ishlnsubmul(o,1,_),n.isZero()||(n.negative^=1);r&&(r.words[_]=x)}return r&&r.strip(),n.strip(),e!=="div"&&i!==0&&n.iushrn(i),{div:r||null,mod:n}},u.prototype.divmod=function(t,e,i){if(c(!t.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,o,a;return this.negative!==0&&t.negative===0?(a=this.neg().divmod(t,e),e!=="mod"&&(n=a.div.neg()),e!=="div"&&(o=a.mod.neg(),i&&o.negative!==0&&o.iadd(t)),{div:n,mod:o}):this.negative===0&&t.negative!==0?(a=this.divmod(t.neg(),e),e!=="mod"&&(n=a.div.neg()),{div:n,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),e!=="div"&&(o=a.mod.neg(),i&&o.negative!==0&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new u(0),mod:this}:t.length===1?e==="div"?{div:this.divn(t.words[0]),mod:null}:e==="mod"?{div:null,mod:new u(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new u(this.modn(t.words[0]))}:this._wordDiv(t,e)},u.prototype.div=function(t){return this.divmod(t,"div",!1).div},u.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},u.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},u.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=e.div.negative!==0?e.mod.isub(t):e.mod,n=t.ushrn(1),o=t.andln(1),a=i.cmp(n);return a<0||o===1&&a===0?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)},u.prototype.modn=function(t){c(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(this.words[n]|0))%t;return i},u.prototype.idivn=function(t){c(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(this.words[i]|0)+e*67108864;this.words[i]=n/t|0,e=n%t}return this.strip()},u.prototype.divn=function(t){return this.clone().idivn(t)},u.prototype.egcd=function(t){c(t.negative===0),c(!t.isZero());var e=this,i=t.clone();e.negative!==0?e=e.umod(t):e=e.clone();for(var n=new u(1),o=new u(0),a=new u(0),l=new u(1),s=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++s;for(var r=i.clone(),h=e.clone();!e.isZero();){for(var y=0,_=1;!(e.words[0]&_)&&y<26;++y,_<<=1);if(y>0)for(e.iushrn(y);y-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(r),o.isub(h)),n.iushrn(1),o.iushrn(1);for(var x=0,b=1;!(i.words[0]&b)&&x<26;++x,b<<=1);if(x>0)for(i.iushrn(x);x-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(r),l.isub(h)),a.iushrn(1),l.iushrn(1);e.cmp(i)>=0?(e.isub(i),n.isub(a),o.isub(l)):(i.isub(e),a.isub(n),l.isub(o))}return{a,b:l,gcd:i.iushln(s)}},u.prototype._invmp=function(t){c(t.negative===0),c(!t.isZero());var e=this,i=t.clone();e.negative!==0?e=e.umod(t):e=e.clone();for(var n=new u(1),o=new u(0),a=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,s=1;!(e.words[0]&s)&&l<26;++l,s<<=1);if(l>0)for(e.iushrn(l);l-- >0;)n.isOdd()&&n.iadd(a),n.iushrn(1);for(var r=0,h=1;!(i.words[0]&h)&&r<26;++r,h<<=1);if(r>0)for(i.iushrn(r);r-- >0;)o.isOdd()&&o.iadd(a),o.iushrn(1);e.cmp(i)>=0?(e.isub(i),n.isub(o)):(i.isub(e),o.isub(n))}var y;return e.cmpn(1)===0?y=n:y=o,y.cmpn(0)<0&&y.iadd(t),y},u.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);do{for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var o=e.cmp(i);if(o<0){var a=e;e=i,i=a}else if(o===0||i.cmpn(1)===0)break;e.isub(i)}while(!0);return i.iushln(n)},u.prototype.invm=function(t){return this.egcd(t).a.umod(t)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(t){return this.words[0]&t},u.prototype.bincn=function(t){c(typeof t=="number");var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,a=i;o!==0&&a<this.length;a++){var l=this.words[a]|0;l+=o,o=l>>>26,l&=67108863,this.words[a]=l}return o!==0&&(this.words[a]=o,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(t){var e=t<0;if(this.negative!==0&&!e)return-1;if(this.negative===0&&e)return 1;this.strip();var i;if(this.length>1)i=1;else{e&&(t=-t),c(t<=67108863,"Number is too big");var n=this.words[0]|0;i=n===t?0:n<t?-1:1}return this.negative!==0?-i|0:i},u.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var e=this.ucmp(t);return this.negative!==0?-e|0:e},u.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=this.words[i]|0,o=t.words[i]|0;if(n!==o){n<o?e=-1:n>o&&(e=1);break}}return e},u.prototype.gtn=function(t){return this.cmpn(t)===1},u.prototype.gt=function(t){return this.cmp(t)===1},u.prototype.gten=function(t){return this.cmpn(t)>=0},u.prototype.gte=function(t){return this.cmp(t)>=0},u.prototype.ltn=function(t){return this.cmpn(t)===-1},u.prototype.lt=function(t){return this.cmp(t)===-1},u.prototype.lten=function(t){return this.cmpn(t)<=0},u.prototype.lte=function(t){return this.cmp(t)<=0},u.prototype.eqn=function(t){return this.cmpn(t)===0},u.prototype.eq=function(t){return this.cmp(t)===0},u.red=function(t){return new B(t)},u.prototype.toRed=function(t){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},u.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(t){return this.red=t,this},u.prototype.forceRed=function(t){return c(!this.red,"Already a number in reduction context"),this._forceRed(t)},u.prototype.redAdd=function(t){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},u.prototype.redIAdd=function(t){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},u.prototype.redSub=function(t){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},u.prototype.redISub=function(t){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},u.prototype.redShl=function(t){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},u.prototype.redMul=function(t){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},u.prototype.redIMul=function(t){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},u.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(t){return c(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function M(f,t){this.name=f,this.p=new u(t,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var t=new u(null);return t.words=new Array(Math.ceil(this.n/13)),t},M.prototype.ireduce=function(t){var e=t,i;do this.split(e,this.tmp),e=this.imulK(e),e=e.iadd(this.tmp),i=e.bitLength();while(i>this.n);var n=i<this.n?-1:e.ucmp(this.p);return n===0?(e.words[0]=0,e.length=1):n>0?e.isub(this.p):e.strip(),e},M.prototype.split=function(t,e){t.iushrn(this.n,0,e)},M.prototype.imulK=function(t){return t.imul(this.k)};function S(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}R(S,M),S.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),o=0;o<n;o++)e.words[o]=t.words[o];if(e.length=n,t.length<=9){t.words[0]=0,t.length=1;return}var a=t.words[9];for(e.words[e.length++]=a&i,o=10;o<t.length;o++){var l=t.words[o]|0;t.words[o-10]=(l&i)<<4|a>>>22,a=l}a>>>=22,t.words[o-10]=a,a===0&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=t.words[i]|0;e+=n*977,t.words[i]=e&67108863,e=n*64+(e/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function E(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}R(E,M);function k(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}R(k,M);function mt(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}R(mt,M),mt.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=(t.words[i]|0)*19+e,o=n&67108863;n>>>=26,t.words[i]=o,e=n}return e!==0&&(t.words[t.length++]=e),t},u._prime=function(t){if(w[t])return w[t];var e;if(t==="k256")e=new S;else if(t==="p224")e=new E;else if(t==="p192")e=new k;else if(t==="p25519")e=new mt;else throw new Error("Unknown prime "+t);return w[t]=e,e};function B(f){if(typeof f=="string"){var t=u._prime(f);this.m=t.p,this.prime=t}else c(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}B.prototype._verify1=function(t){c(t.negative===0,"red works only with positives"),c(t.red,"red works only with red numbers")},B.prototype._verify2=function(t,e){c((t.negative|e.negative)===0,"red works only with positives"),c(t.red&&t.red===e.red,"red works only with red numbers")},B.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},B.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},B.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},B.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},B.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},B.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},B.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},B.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},B.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},B.prototype.isqr=function(t){return this.imul(t,t.clone())},B.prototype.sqr=function(t){return this.mul(t,t)},B.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(c(e%2===1),e===3){var i=this.m.add(new u(1)).iushrn(2);return this.pow(t,i)}for(var n=this.m.subn(1),o=0;!n.isZero()&&n.andln(1)===0;)o++,n.iushrn(1);c(!n.isZero());var a=new u(1).toRed(this),l=a.redNeg(),s=this.m.subn(1).iushrn(1),r=this.m.bitLength();for(r=new u(2*r*r).toRed(this);this.pow(r,s).cmp(l)!==0;)r.redIAdd(l);for(var h=this.pow(r,n),y=this.pow(t,n.addn(1).iushrn(1)),_=this.pow(t,n),x=o;_.cmp(a)!==0;){for(var b=_,I=0;b.cmp(a)!==0;I++)b=b.redSqr();c(I<x);var A=this.pow(h,new u(1).iushln(x-I-1));y=y.redMul(A),h=A.redSqr(),_=_.redMul(h),x=I}return y},B.prototype.invm=function(t){var e=t._invmp(this.m);return e.negative!==0?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},B.prototype.pow=function(t,e){if(e.isZero())return new u(1).toRed(this);if(e.cmpn(1)===0)return t.clone();var i=4,n=new Array(1<<i);n[0]=new u(1).toRed(this),n[1]=t;for(var o=2;o<n.length;o++)n[o]=this.mul(n[o-1],t);var a=n[0],l=0,s=0,r=e.bitLength()%26;for(r===0&&(r=26),o=e.length-1;o>=0;o--){for(var h=e.words[o],y=r-1;y>=0;y--){var _=h>>y&1;if(a!==n[0]&&(a=this.sqr(a)),_===0&&l===0){s=0;continue}l<<=1,l|=_,s++,!(s!==i&&(o!==0||y!==0))&&(a=this.mul(a,n[l]),s=0,l=0)}r=26}return a},B.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},B.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},u.mont=function(t){return new wt(t)};function wt(f){B.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R(wt,B),wt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},wt.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},wt.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=i.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},wt.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new u(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=i.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},wt.prototype.invm=function(t){var e=this.imod(t._invmp(this.m).mul(this.r2));return e._forceRed(this)}})(v,qr)})(Br);var xe=Br.exports;const be=Gr(xe);var Se=Nr;Nr.strict=Yr;Nr.loose=Xr;var ke=Object.prototype.toString,Re={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function Nr(v){return Yr(v)||Xr(v)}function Yr(v){return v instanceof Int8Array||v instanceof Int16Array||v instanceof Int32Array||v instanceof Uint8Array||v instanceof Uint8ClampedArray||v instanceof Uint16Array||v instanceof Uint32Array||v instanceof Float32Array||v instanceof Float64Array}function Xr(v){return Re[ke.call(v)]}var Ie=Se.strict,Ae=function(d){if(Ie(d)){var g=Mr.from(d.buffer);return d.byteLength!==d.buffer.byteLength&&(g=g.slice(d.byteOffset,d.byteOffset+d.byteLength)),g}else return Mr.from(d)};const qe=Gr(Ae),te="hex",re="utf8",wr="0";function cr(v){return new Uint8Array(v)}function ee(v,d=!1){const g=v.toString(te);return d?mr(g):g}function Oe(v){return v.toString(re)}function _r(v){return qe(v)}function lr(v,d=!1){return ee(_r(v),d)}function Te(v){return Oe(_r(v))}function Ee(v){return Mr.from(fr(v),te)}function dr(v){return cr(Ee(v))}function Lr(v){return Mr.from(v,re)}function Be(v){return cr(Lr(v))}function Ne(v,d=!1){return ee(Lr(v),d)}function Le(v,d){return!(typeof v!="string"||!v.match(/^0x[0-9A-Fa-f]*$/)||d&&v.length!==2+2*d)}function ie(...v){let d=[];return v.forEach(g=>d=d.concat(Array.from(g))),new Uint8Array([...d])}function Ce(v,d=8){const g=v%d;return g?(v-g)/d*d+d:v}function Fe(v,d=8,g=wr){return Ue(v,Ce(v.length,d),g)}function Ue(v,d,g=wr){return $e(v,d,!0,g)}function fr(v){return v.replace(/^0x/,"")}function mr(v){return v.startsWith("0x")?v:`0x${v}`}function ne(v){return v=fr(v),v=Fe(v,2),v&&(v=mr(v)),v}function Ze(v){const d=v.startsWith("0x");return v=fr(v),v=v.startsWith(wr)?v.substring(1):v,d?mr(v):v}function $e(v,d,g,c=wr){const R=d-v.length;let u=v;if(R>0){const vt=c.repeat(R);u=g?vt+v:v+vt}return u}function Pe(v,d){return lr(new Uint8Array(v),!d)}function ze(v){return Lr(v)}function He(v,d){return Ne(v,!d)}function Ke(v){return dr(v).buffer}function se(v,d){const g=fr(ne(new be(v).toString(16)));return d?g:mr(g)}function gr(v){return ne(v)}function De(v){return Ze(mr(v))}const je=ye;function xr(){return((d,g)=>{for(g=d="";d++<36;g+=d*51&52?(d^15?8^Math.random()*(d^20?16:4):4).toString(16):"-");return g})()}function Je(v){return v===""||typeof v=="string"&&v.trim()===""}function We(v){return!(v&&v.length)}function he(v,d){return Le(v,d)}function Qe(v){return typeof v.method<"u"}function vr(v){return typeof v.result<"u"}function yr(v){return typeof v.error<"u"}function Hr(v){return typeof v.event<"u"}function Ge(v){return _e.includes(v)||v.startsWith("wc_")}function Ve(v){return v.method.startsWith("wc_")?!0:!Vr.includes(v.method)}function Ye(v){v=fr(v.toLowerCase());const d=fr(we.keccak_256(ze(v)));let g="";for(let c=0;c<v.length;c++)parseInt(d[c],16)>7?g+=v[c].toUpperCase():g+=v[c];return mr(g)}const Xe=v=>v?v.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(v)?/^(0x)?[0-9a-f]{40}$/.test(v)||/^(0x)?[0-9A-F]{40}$/.test(v)?!0:v===Ye(v):!1:!1;function Kr(v){return!We(v)&&!he(v[0])&&(v[0]=He(v[0])),v}function br(v){if(typeof v.type<"u"&&v.type!=="0")return v;if(typeof v.from>"u"||!Xe(v.from))throw new Error("Transaction object must include a valid 'from' value.");function d(R){let u=R;return(typeof R=="number"||typeof R=="string"&&!Je(R))&&(he(R)?typeof R=="string"&&(u=gr(R)):u=se(R)),typeof u=="string"&&(u=De(u)),u}const g={from:gr(v.from),to:typeof v.to>"u"?void 0:gr(v.to),gasPrice:typeof v.gasPrice>"u"?"":d(v.gasPrice),gas:typeof v.gas>"u"?typeof v.gasLimit>"u"?"":d(v.gasLimit):d(v.gas),value:typeof v.value>"u"?"":d(v.value),nonce:typeof v.nonce>"u"?"":d(v.nonce),data:typeof v.data>"u"?"":gr(v.data)||"0x"},c=["gasPrice","gas","value","nonce"];return Object.keys(g).forEach(R=>{(typeof g[R]>"u"||typeof g[R]=="string"&&!g[R].trim().length)&&c.includes(R)&&delete g[R]}),g}function ti(v){const d=v.message||"Failed or Rejected Request";let g=-32e3;if(v&&!v.code)switch(d){case"Parse error":g=-32700;break;case"Invalid request":g=-32600;break;case"Method not found":g=-32601;break;case"Invalid params":g=-32602;break;case"Internal error":g=-32603;break;default:g=-32e3;break}const c={code:g,message:d};return v.data&&(c.data=v.data),c}var oe={};(function(v){const d=Tr,g=Er,c=Or,R=m=>m==null;function u(m){switch(m.arrayFormat){case"index":return p=>(w,M)=>{const S=w.length;return M===void 0||m.skipNull&&M===null||m.skipEmptyString&&M===""?w:M===null?[...w,[T(p,m),"[",S,"]"].join("")]:[...w,[T(p,m),"[",T(S,m),"]=",T(M,m)].join("")]};case"bracket":return p=>(w,M)=>M===void 0||m.skipNull&&M===null||m.skipEmptyString&&M===""?w:M===null?[...w,[T(p,m),"[]"].join("")]:[...w,[T(p,m),"[]=",T(M,m)].join("")];case"comma":case"separator":return p=>(w,M)=>M==null||M.length===0?w:w.length===0?[[T(p,m),"=",T(M,m)].join("")]:[[w,T(M,m)].join(m.arrayFormatSeparator)];default:return p=>(w,M)=>M===void 0||m.skipNull&&M===null||m.skipEmptyString&&M===""?w:M===null?[...w,T(p,m)]:[...w,[T(p,m),"=",T(M,m)].join("")]}}function vt(m){let p;switch(m.arrayFormat){case"index":return(w,M,S)=>{if(p=/\[(\d*)\]$/.exec(w),w=w.replace(/\[\d*\]$/,""),!p){S[w]=M;return}S[w]===void 0&&(S[w]={}),S[w][p[1]]=M};case"bracket":return(w,M,S)=>{if(p=/(\[\])$/.exec(w),w=w.replace(/\[\]$/,""),!p){S[w]=M;return}if(S[w]===void 0){S[w]=[M];return}S[w]=[].concat(S[w],M)};case"comma":case"separator":return(w,M,S)=>{const k=typeof M=="string"&&M.split("").indexOf(m.arrayFormatSeparator)>-1?M.split(m.arrayFormatSeparator).map(mt=>pt(mt,m)):M===null?M:pt(M,m);S[w]=k};default:return(w,M,S)=>{if(S[w]===void 0){S[w]=M;return}S[w]=[].concat(S[w],M)}}}function gt(m){if(typeof m!="string"||m.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function T(m,p){return p.encode?p.strict?d(m):encodeURIComponent(m):m}function pt(m,p){return p.decode?g(m):m}function St(m){return Array.isArray(m)?m.sort():typeof m=="object"?St(Object.keys(m)).sort((p,w)=>Number(p)-Number(w)).map(p=>m[p]):m}function _t(m){const p=m.indexOf("#");return p!==-1&&(m=m.slice(0,p)),m}function xt(m){let p="";const w=m.indexOf("#");return w!==-1&&(p=m.slice(w)),p}function yt(m){m=_t(m);const p=m.indexOf("?");return p===-1?"":m.slice(p+1)}function bt(m,p){return p.parseNumbers&&!Number.isNaN(Number(m))&&typeof m=="string"&&m.trim()!==""?m=Number(m):p.parseBooleans&&m!==null&&(m.toLowerCase()==="true"||m.toLowerCase()==="false")&&(m=m.toLowerCase()==="true"),m}function kt(m,p){p=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},p),gt(p.arrayFormatSeparator);const w=vt(p),M=Object.create(null);if(typeof m!="string"||(m=m.trim().replace(/^[?#&]/,""),!m))return M;for(const S of m.split("&")){let[E,k]=c(p.decode?S.replace(/\+/g," "):S,"=");k=k===void 0?null:["comma","separator"].includes(p.arrayFormat)?k:pt(k,p),w(pt(E,p),k,M)}for(const S of Object.keys(M)){const E=M[S];if(typeof E=="object"&&E!==null)for(const k of Object.keys(E))E[k]=bt(E[k],p);else M[S]=bt(E,p)}return p.sort===!1?M:(p.sort===!0?Object.keys(M).sort():Object.keys(M).sort(p.sort)).reduce((S,E)=>{const k=M[E];return k&&typeof k=="object"&&!Array.isArray(k)?S[E]=St(k):S[E]=k,S},Object.create(null))}v.extract=yt,v.parse=kt,v.stringify=(m,p)=>{if(!m)return"";p=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},p),gt(p.arrayFormatSeparator);const w=k=>p.skipNull&&R(m[k])||p.skipEmptyString&&m[k]==="",M=u(p),S={};for(const k of Object.keys(m))w(k)||(S[k]=m[k]);const E=Object.keys(S);return p.sort!==!1&&E.sort(p.sort),E.map(k=>{const mt=m[k];return mt===void 0?"":mt===null?T(k,p):Array.isArray(mt)?mt.reduce(M(k),[]).join("&"):T(k,p)+"="+T(mt,p)}).filter(k=>k.length>0).join("&")},v.parseUrl=(m,p)=>{p=Object.assign({decode:!0},p);const[w,M]=c(m,"#");return Object.assign({url:w.split("?")[0]||"",query:kt(yt(m),p)},p&&p.parseFragmentIdentifier&&M?{fragmentIdentifier:pt(M,p)}:{})},v.stringifyUrl=(m,p)=>{p=Object.assign({encode:!0,strict:!0},p);const w=_t(m.url).split("?")[0]||"",M=v.extract(m.url),S=v.parse(M,{sort:!1}),E=Object.assign(S,m.query);let k=v.stringify(E,p);k&&(k=`?${k}`);let mt=xt(m.url);return m.fragmentIdentifier&&(mt=`#${T(m.fragmentIdentifier,p)}`),`${w}${k}${mt}`}})(oe);function ri(v){return oe.parse(v)}function ei(v){return typeof v.bridge<"u"}function ii(v){const d=v.indexOf(":"),g=v.indexOf("?")!==-1?v.indexOf("?"):void 0,c=v.substring(0,d),R=v.substring(d+1,g);function u(_t){const xt="@",yt=_t.split(xt);return{handshakeTopic:yt[0],version:parseInt(yt[1],10)}}const vt=u(R),gt=typeof g<"u"?v.substr(g):"";function T(_t){const xt=ri(_t);return{key:xt.key||"",bridge:xt.bridge||""}}const pt=T(gt);return Object.assign(Object.assign({protocol:c},vt),pt)}var Sr,Dr;function ni(){return Dr||(Dr=1,Sr=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),Sr}var Cr={exports:{}};Cr.exports;(function(v){(function(d,g){function c(f,t){if(!f)throw new Error(t||"Assertion failed")}function R(f,t){f.super_=t;var e=function(){};e.prototype=t.prototype,f.prototype=new e,f.prototype.constructor=f}function u(f,t,e){if(u.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((t==="le"||t==="be")&&(e=t,t=10),this._init(f||0,t||10,e||"be"))}typeof d=="object"?d.exports=u:g.BN=u,u.BN=u,u.wordSize=26;var vt;try{vt=Ar().Buffer}catch{}u.isBN=function(t){return t instanceof u?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===u.wordSize&&Array.isArray(t.words)},u.max=function(t,e){return t.cmp(e)>0?t:e},u.min=function(t,e){return t.cmp(e)<0?t:e},u.prototype._init=function(t,e,i){if(typeof t=="number")return this._initNumber(t,e,i);if(typeof t=="object")return this._initArray(t,e,i);e==="hex"&&(e=16),c(e===(e|0)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var n=0;t[0]==="-"&&n++,e===16?this._parseHex(t,n):this._parseBase(t,e,n),t[0]==="-"&&(this.negative=1),this.strip(),i==="le"&&this._initArray(this.toArray(),e,i)},u.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(c(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),e,i)},u.prototype._initArray=function(t,e,i){if(c(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,a,l=0;if(i==="be")for(n=t.length-1,o=0;n>=0;n-=3)a=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=a<<l&67108863,this.words[o+1]=a>>>26-l&67108863,l+=24,l>=26&&(l-=26,o++);else if(i==="le")for(n=0,o=0;n<t.length;n+=3)a=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=a<<l&67108863,this.words[o+1]=a>>>26-l&67108863,l+=24,l>=26&&(l-=26,o++);return this.strip()};function gt(f,t,e){for(var i=0,n=Math.min(f.length,e),o=t;o<n;o++){var a=f.charCodeAt(o)-48;i<<=4,a>=49&&a<=54?i|=a-49+10:a>=17&&a<=22?i|=a-17+10:i|=a&15}return i}u.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o,a=0;for(i=t.length-6,n=0;i>=e;i-=6)o=gt(t,i,i+6),this.words[n]|=o<<a&67108863,this.words[n+1]|=o>>>26-a&4194303,a+=24,a>=26&&(a-=26,n++);i+6!==e&&(o=gt(t,e,i+6),this.words[n]|=o<<a&67108863,this.words[n+1]|=o>>>26-a&4194303),this.strip()};function T(f,t,e,i){for(var n=0,o=Math.min(f.length,e),a=t;a<o;a++){var l=f.charCodeAt(a)-48;n*=i,l>=49?n+=l-49+10:l>=17?n+=l-17+10:n+=l}return n}u.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,o=1;o<=67108863;o*=e)n++;n--,o=o/e|0;for(var a=t.length-i,l=a%n,s=Math.min(a,a-l)+i,r=0,h=i;h<s;h+=n)r=T(t,h,h+n,e),this.imuln(o),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r);if(l!==0){var y=1;for(r=T(t,h,t.length,e),h=0;h<l;h++)y*=e;this.imuln(y),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r)}},u.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},u.prototype.clone=function(){var t=new u(null);return this.copy(t),t},u.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var pt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],St=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_t=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(t,e){t=t||10,e=e|0||1;var i;if(t===16||t==="hex"){i="";for(var n=0,o=0,a=0;a<this.length;a++){var l=this.words[a],s=((l<<n|o)&16777215).toString(16);o=l>>>24-n&16777215,o!==0||a!==this.length-1?i=pt[6-s.length]+s+i:i=s+i,n+=2,n>=26&&(n-=26,a--)}for(o!==0&&(i=o.toString(16)+i);i.length%e!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(t===(t|0)&&t>=2&&t<=36){var r=St[t],h=_t[t];i="";var y=this.clone();for(y.negative=0;!y.isZero();){var _=y.modn(h).toString(t);y=y.idivn(h),y.isZero()?i=_+i:i=pt[r-_.length]+_+i}for(this.isZero()&&(i="0"+i);i.length%e!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}c(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(t,e){return c(typeof vt<"u"),this.toArrayLike(vt,t,e)},u.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},u.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);c(n<=o,"byte array longer than desired length"),c(o>0,"Requested array length <= 0"),this.strip();var a=e==="le",l=new t(o),s,r,h=this.clone();if(a){for(r=0;!h.isZero();r++)s=h.andln(255),h.iushrn(8),l[r]=s;for(;r<o;r++)l[r]=0}else{for(r=0;r<o-n;r++)l[r]=0;for(r=0;!h.isZero();r++)s=h.andln(255),h.iushrn(8),l[o-r-1]=s}return l},Math.clz32?u.prototype._countBits=function(t){return 32-Math.clz32(t)}:u.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},u.prototype._zeroBits=function(t){if(t===0)return 26;var e=t,i=0;return e&8191||(i+=13,e>>>=13),e&127||(i+=7,e>>>=7),e&15||(i+=4,e>>>=4),e&3||(i+=2,e>>>=2),e&1||i++,i},u.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return(this.length-1)*26+e};function xt(f){for(var t=new Array(f.bitLength()),e=0;e<t.length;e++){var i=e/26|0,n=e%26;t[e]=(f.words[i]&1<<n)>>>n}return t}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,i!==26)break}return t},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},u.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},u.prototype.ior=function(t){return c((this.negative|t.negative)===0),this.iuor(t)},u.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},u.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},u.prototype.iuand=function(t){var e;this.length>t.length?e=t:e=this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},u.prototype.iand=function(t){return c((this.negative|t.negative)===0),this.iuand(t)},u.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},u.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},u.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},u.prototype.ixor=function(t){return c((this.negative|t.negative)===0),this.iuxor(t)},u.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},u.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},u.prototype.inotn=function(t){c(typeof t=="number"&&t>=0);var e=Math.ceil(t/26)|0,i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=~this.words[n]&67108863;return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},u.prototype.notn=function(t){return this.clone().inotn(t)},u.prototype.setn=function(t,e){c(typeof t=="number"&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),e?this.words[i]=this.words[i]|1<<n:this.words[i]=this.words[i]&~(1<<n),this.strip()},u.prototype.iadd=function(t){var e;if(this.negative!==0&&t.negative===0)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();var i,n;this.length>t.length?(i=this,n=t):(i=t,n=this);for(var o=0,a=0;a<n.length;a++)e=(i.words[a]|0)+(n.words[a]|0)+o,this.words[a]=e&67108863,o=e>>>26;for(;o!==0&&a<i.length;a++)e=(i.words[a]|0)+o,this.words[a]=e&67108863,o=e>>>26;if(this.length=i.length,o!==0)this.words[this.length]=o,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},u.prototype.add=function(t){var e;return t.negative!==0&&this.negative===0?(t.negative=0,e=this.sub(t),t.negative^=1,e):t.negative===0&&this.negative!==0?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},u.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i=this.cmp(t);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,o;i>0?(n=this,o=t):(n=t,o=this);for(var a=0,l=0;l<o.length;l++)e=(n.words[l]|0)-(o.words[l]|0)+a,a=e>>26,this.words[l]=e&67108863;for(;a!==0&&l<n.length;l++)e=(n.words[l]|0)+a,a=e>>26,this.words[l]=e&67108863;if(a===0&&l<n.length&&n!==this)for(;l<n.length;l++)this.words[l]=n.words[l];return this.length=Math.max(this.length,l),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(t){return this.clone().isub(t)};function yt(f,t,e){e.negative=t.negative^f.negative;var i=f.length+t.length|0;e.length=i,i=i-1|0;var n=f.words[0]|0,o=t.words[0]|0,a=n*o,l=a&67108863,s=a/67108864|0;e.words[0]=l;for(var r=1;r<i;r++){for(var h=s>>>26,y=s&67108863,_=Math.min(r,t.length-1),x=Math.max(0,r-f.length+1);x<=_;x++){var b=r-x|0;n=f.words[b]|0,o=t.words[x]|0,a=n*o+y,h+=a/67108864|0,y=a&67108863}e.words[r]=y|0,s=h|0}return s!==0?e.words[r]=s|0:e.length--,e.strip()}var bt=function(t,e,i){var n=t.words,o=e.words,a=i.words,l=0,s,r,h,y=n[0]|0,_=y&8191,x=y>>>13,b=n[1]|0,I=b&8191,A=b>>>13,Mt=n[2]|0,q=Mt&8191,O=Mt>>>13,Dt=n[3]|0,N=Dt&8191,L=Dt>>>13,jt=n[4]|0,C=jt&8191,F=jt>>>13,Jt=n[5]|0,U=Jt&8191,Z=Jt>>>13,Wt=n[6]|0,$=Wt&8191,P=Wt>>>13,Qt=n[7]|0,z=Qt&8191,H=Qt>>>13,Gt=n[8]|0,K=Gt&8191,D=Gt>>>13,Vt=n[9]|0,j=Vt&8191,J=Vt>>>13,Yt=o[0]|0,W=Yt&8191,Q=Yt>>>13,Xt=o[1]|0,G=Xt&8191,V=Xt>>>13,tr=o[2]|0,Y=tr&8191,X=tr>>>13,rr=o[3]|0,tt=rr&8191,rt=rr>>>13,er=o[4]|0,et=er&8191,it=er>>>13,ir=o[5]|0,nt=ir&8191,st=ir>>>13,nr=o[6]|0,ht=nr&8191,ot=nr>>>13,sr=o[7]|0,ft=sr&8191,at=sr>>>13,hr=o[8]|0,ut=hr&8191,lt=hr>>>13,or=o[9]|0,dt=or&8191,ct=or>>>13;i.negative=t.negative^e.negative,i.length=19,s=Math.imul(_,W),r=Math.imul(_,Q),r=r+Math.imul(x,W)|0,h=Math.imul(x,Q);var Rt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,s=Math.imul(I,W),r=Math.imul(I,Q),r=r+Math.imul(A,W)|0,h=Math.imul(A,Q),s=s+Math.imul(_,G)|0,r=r+Math.imul(_,V)|0,r=r+Math.imul(x,G)|0,h=h+Math.imul(x,V)|0;var It=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(It>>>26)|0,It&=67108863,s=Math.imul(q,W),r=Math.imul(q,Q),r=r+Math.imul(O,W)|0,h=Math.imul(O,Q),s=s+Math.imul(I,G)|0,r=r+Math.imul(I,V)|0,r=r+Math.imul(A,G)|0,h=h+Math.imul(A,V)|0,s=s+Math.imul(_,Y)|0,r=r+Math.imul(_,X)|0,r=r+Math.imul(x,Y)|0,h=h+Math.imul(x,X)|0;var At=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(At>>>26)|0,At&=67108863,s=Math.imul(N,W),r=Math.imul(N,Q),r=r+Math.imul(L,W)|0,h=Math.imul(L,Q),s=s+Math.imul(q,G)|0,r=r+Math.imul(q,V)|0,r=r+Math.imul(O,G)|0,h=h+Math.imul(O,V)|0,s=s+Math.imul(I,Y)|0,r=r+Math.imul(I,X)|0,r=r+Math.imul(A,Y)|0,h=h+Math.imul(A,X)|0,s=s+Math.imul(_,tt)|0,r=r+Math.imul(_,rt)|0,r=r+Math.imul(x,tt)|0,h=h+Math.imul(x,rt)|0;var qt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,s=Math.imul(C,W),r=Math.imul(C,Q),r=r+Math.imul(F,W)|0,h=Math.imul(F,Q),s=s+Math.imul(N,G)|0,r=r+Math.imul(N,V)|0,r=r+Math.imul(L,G)|0,h=h+Math.imul(L,V)|0,s=s+Math.imul(q,Y)|0,r=r+Math.imul(q,X)|0,r=r+Math.imul(O,Y)|0,h=h+Math.imul(O,X)|0,s=s+Math.imul(I,tt)|0,r=r+Math.imul(I,rt)|0,r=r+Math.imul(A,tt)|0,h=h+Math.imul(A,rt)|0,s=s+Math.imul(_,et)|0,r=r+Math.imul(_,it)|0,r=r+Math.imul(x,et)|0,h=h+Math.imul(x,it)|0;var Ot=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,s=Math.imul(U,W),r=Math.imul(U,Q),r=r+Math.imul(Z,W)|0,h=Math.imul(Z,Q),s=s+Math.imul(C,G)|0,r=r+Math.imul(C,V)|0,r=r+Math.imul(F,G)|0,h=h+Math.imul(F,V)|0,s=s+Math.imul(N,Y)|0,r=r+Math.imul(N,X)|0,r=r+Math.imul(L,Y)|0,h=h+Math.imul(L,X)|0,s=s+Math.imul(q,tt)|0,r=r+Math.imul(q,rt)|0,r=r+Math.imul(O,tt)|0,h=h+Math.imul(O,rt)|0,s=s+Math.imul(I,et)|0,r=r+Math.imul(I,it)|0,r=r+Math.imul(A,et)|0,h=h+Math.imul(A,it)|0,s=s+Math.imul(_,nt)|0,r=r+Math.imul(_,st)|0,r=r+Math.imul(x,nt)|0,h=h+Math.imul(x,st)|0;var Tt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,s=Math.imul($,W),r=Math.imul($,Q),r=r+Math.imul(P,W)|0,h=Math.imul(P,Q),s=s+Math.imul(U,G)|0,r=r+Math.imul(U,V)|0,r=r+Math.imul(Z,G)|0,h=h+Math.imul(Z,V)|0,s=s+Math.imul(C,Y)|0,r=r+Math.imul(C,X)|0,r=r+Math.imul(F,Y)|0,h=h+Math.imul(F,X)|0,s=s+Math.imul(N,tt)|0,r=r+Math.imul(N,rt)|0,r=r+Math.imul(L,tt)|0,h=h+Math.imul(L,rt)|0,s=s+Math.imul(q,et)|0,r=r+Math.imul(q,it)|0,r=r+Math.imul(O,et)|0,h=h+Math.imul(O,it)|0,s=s+Math.imul(I,nt)|0,r=r+Math.imul(I,st)|0,r=r+Math.imul(A,nt)|0,h=h+Math.imul(A,st)|0,s=s+Math.imul(_,ht)|0,r=r+Math.imul(_,ot)|0,r=r+Math.imul(x,ht)|0,h=h+Math.imul(x,ot)|0;var Et=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,s=Math.imul(z,W),r=Math.imul(z,Q),r=r+Math.imul(H,W)|0,h=Math.imul(H,Q),s=s+Math.imul($,G)|0,r=r+Math.imul($,V)|0,r=r+Math.imul(P,G)|0,h=h+Math.imul(P,V)|0,s=s+Math.imul(U,Y)|0,r=r+Math.imul(U,X)|0,r=r+Math.imul(Z,Y)|0,h=h+Math.imul(Z,X)|0,s=s+Math.imul(C,tt)|0,r=r+Math.imul(C,rt)|0,r=r+Math.imul(F,tt)|0,h=h+Math.imul(F,rt)|0,s=s+Math.imul(N,et)|0,r=r+Math.imul(N,it)|0,r=r+Math.imul(L,et)|0,h=h+Math.imul(L,it)|0,s=s+Math.imul(q,nt)|0,r=r+Math.imul(q,st)|0,r=r+Math.imul(O,nt)|0,h=h+Math.imul(O,st)|0,s=s+Math.imul(I,ht)|0,r=r+Math.imul(I,ot)|0,r=r+Math.imul(A,ht)|0,h=h+Math.imul(A,ot)|0,s=s+Math.imul(_,ft)|0,r=r+Math.imul(_,at)|0,r=r+Math.imul(x,ft)|0,h=h+Math.imul(x,at)|0;var Bt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,s=Math.imul(K,W),r=Math.imul(K,Q),r=r+Math.imul(D,W)|0,h=Math.imul(D,Q),s=s+Math.imul(z,G)|0,r=r+Math.imul(z,V)|0,r=r+Math.imul(H,G)|0,h=h+Math.imul(H,V)|0,s=s+Math.imul($,Y)|0,r=r+Math.imul($,X)|0,r=r+Math.imul(P,Y)|0,h=h+Math.imul(P,X)|0,s=s+Math.imul(U,tt)|0,r=r+Math.imul(U,rt)|0,r=r+Math.imul(Z,tt)|0,h=h+Math.imul(Z,rt)|0,s=s+Math.imul(C,et)|0,r=r+Math.imul(C,it)|0,r=r+Math.imul(F,et)|0,h=h+Math.imul(F,it)|0,s=s+Math.imul(N,nt)|0,r=r+Math.imul(N,st)|0,r=r+Math.imul(L,nt)|0,h=h+Math.imul(L,st)|0,s=s+Math.imul(q,ht)|0,r=r+Math.imul(q,ot)|0,r=r+Math.imul(O,ht)|0,h=h+Math.imul(O,ot)|0,s=s+Math.imul(I,ft)|0,r=r+Math.imul(I,at)|0,r=r+Math.imul(A,ft)|0,h=h+Math.imul(A,at)|0,s=s+Math.imul(_,ut)|0,r=r+Math.imul(_,lt)|0,r=r+Math.imul(x,ut)|0,h=h+Math.imul(x,lt)|0;var Nt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,s=Math.imul(j,W),r=Math.imul(j,Q),r=r+Math.imul(J,W)|0,h=Math.imul(J,Q),s=s+Math.imul(K,G)|0,r=r+Math.imul(K,V)|0,r=r+Math.imul(D,G)|0,h=h+Math.imul(D,V)|0,s=s+Math.imul(z,Y)|0,r=r+Math.imul(z,X)|0,r=r+Math.imul(H,Y)|0,h=h+Math.imul(H,X)|0,s=s+Math.imul($,tt)|0,r=r+Math.imul($,rt)|0,r=r+Math.imul(P,tt)|0,h=h+Math.imul(P,rt)|0,s=s+Math.imul(U,et)|0,r=r+Math.imul(U,it)|0,r=r+Math.imul(Z,et)|0,h=h+Math.imul(Z,it)|0,s=s+Math.imul(C,nt)|0,r=r+Math.imul(C,st)|0,r=r+Math.imul(F,nt)|0,h=h+Math.imul(F,st)|0,s=s+Math.imul(N,ht)|0,r=r+Math.imul(N,ot)|0,r=r+Math.imul(L,ht)|0,h=h+Math.imul(L,ot)|0,s=s+Math.imul(q,ft)|0,r=r+Math.imul(q,at)|0,r=r+Math.imul(O,ft)|0,h=h+Math.imul(O,at)|0,s=s+Math.imul(I,ut)|0,r=r+Math.imul(I,lt)|0,r=r+Math.imul(A,ut)|0,h=h+Math.imul(A,lt)|0,s=s+Math.imul(_,dt)|0,r=r+Math.imul(_,ct)|0,r=r+Math.imul(x,dt)|0,h=h+Math.imul(x,ct)|0;var Lt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,s=Math.imul(j,G),r=Math.imul(j,V),r=r+Math.imul(J,G)|0,h=Math.imul(J,V),s=s+Math.imul(K,Y)|0,r=r+Math.imul(K,X)|0,r=r+Math.imul(D,Y)|0,h=h+Math.imul(D,X)|0,s=s+Math.imul(z,tt)|0,r=r+Math.imul(z,rt)|0,r=r+Math.imul(H,tt)|0,h=h+Math.imul(H,rt)|0,s=s+Math.imul($,et)|0,r=r+Math.imul($,it)|0,r=r+Math.imul(P,et)|0,h=h+Math.imul(P,it)|0,s=s+Math.imul(U,nt)|0,r=r+Math.imul(U,st)|0,r=r+Math.imul(Z,nt)|0,h=h+Math.imul(Z,st)|0,s=s+Math.imul(C,ht)|0,r=r+Math.imul(C,ot)|0,r=r+Math.imul(F,ht)|0,h=h+Math.imul(F,ot)|0,s=s+Math.imul(N,ft)|0,r=r+Math.imul(N,at)|0,r=r+Math.imul(L,ft)|0,h=h+Math.imul(L,at)|0,s=s+Math.imul(q,ut)|0,r=r+Math.imul(q,lt)|0,r=r+Math.imul(O,ut)|0,h=h+Math.imul(O,lt)|0,s=s+Math.imul(I,dt)|0,r=r+Math.imul(I,ct)|0,r=r+Math.imul(A,dt)|0,h=h+Math.imul(A,ct)|0;var Ct=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,s=Math.imul(j,Y),r=Math.imul(j,X),r=r+Math.imul(J,Y)|0,h=Math.imul(J,X),s=s+Math.imul(K,tt)|0,r=r+Math.imul(K,rt)|0,r=r+Math.imul(D,tt)|0,h=h+Math.imul(D,rt)|0,s=s+Math.imul(z,et)|0,r=r+Math.imul(z,it)|0,r=r+Math.imul(H,et)|0,h=h+Math.imul(H,it)|0,s=s+Math.imul($,nt)|0,r=r+Math.imul($,st)|0,r=r+Math.imul(P,nt)|0,h=h+Math.imul(P,st)|0,s=s+Math.imul(U,ht)|0,r=r+Math.imul(U,ot)|0,r=r+Math.imul(Z,ht)|0,h=h+Math.imul(Z,ot)|0,s=s+Math.imul(C,ft)|0,r=r+Math.imul(C,at)|0,r=r+Math.imul(F,ft)|0,h=h+Math.imul(F,at)|0,s=s+Math.imul(N,ut)|0,r=r+Math.imul(N,lt)|0,r=r+Math.imul(L,ut)|0,h=h+Math.imul(L,lt)|0,s=s+Math.imul(q,dt)|0,r=r+Math.imul(q,ct)|0,r=r+Math.imul(O,dt)|0,h=h+Math.imul(O,ct)|0;var Ft=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,s=Math.imul(j,tt),r=Math.imul(j,rt),r=r+Math.imul(J,tt)|0,h=Math.imul(J,rt),s=s+Math.imul(K,et)|0,r=r+Math.imul(K,it)|0,r=r+Math.imul(D,et)|0,h=h+Math.imul(D,it)|0,s=s+Math.imul(z,nt)|0,r=r+Math.imul(z,st)|0,r=r+Math.imul(H,nt)|0,h=h+Math.imul(H,st)|0,s=s+Math.imul($,ht)|0,r=r+Math.imul($,ot)|0,r=r+Math.imul(P,ht)|0,h=h+Math.imul(P,ot)|0,s=s+Math.imul(U,ft)|0,r=r+Math.imul(U,at)|0,r=r+Math.imul(Z,ft)|0,h=h+Math.imul(Z,at)|0,s=s+Math.imul(C,ut)|0,r=r+Math.imul(C,lt)|0,r=r+Math.imul(F,ut)|0,h=h+Math.imul(F,lt)|0,s=s+Math.imul(N,dt)|0,r=r+Math.imul(N,ct)|0,r=r+Math.imul(L,dt)|0,h=h+Math.imul(L,ct)|0;var Ut=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,s=Math.imul(j,et),r=Math.imul(j,it),r=r+Math.imul(J,et)|0,h=Math.imul(J,it),s=s+Math.imul(K,nt)|0,r=r+Math.imul(K,st)|0,r=r+Math.imul(D,nt)|0,h=h+Math.imul(D,st)|0,s=s+Math.imul(z,ht)|0,r=r+Math.imul(z,ot)|0,r=r+Math.imul(H,ht)|0,h=h+Math.imul(H,ot)|0,s=s+Math.imul($,ft)|0,r=r+Math.imul($,at)|0,r=r+Math.imul(P,ft)|0,h=h+Math.imul(P,at)|0,s=s+Math.imul(U,ut)|0,r=r+Math.imul(U,lt)|0,r=r+Math.imul(Z,ut)|0,h=h+Math.imul(Z,lt)|0,s=s+Math.imul(C,dt)|0,r=r+Math.imul(C,ct)|0,r=r+Math.imul(F,dt)|0,h=h+Math.imul(F,ct)|0;var Zt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,s=Math.imul(j,nt),r=Math.imul(j,st),r=r+Math.imul(J,nt)|0,h=Math.imul(J,st),s=s+Math.imul(K,ht)|0,r=r+Math.imul(K,ot)|0,r=r+Math.imul(D,ht)|0,h=h+Math.imul(D,ot)|0,s=s+Math.imul(z,ft)|0,r=r+Math.imul(z,at)|0,r=r+Math.imul(H,ft)|0,h=h+Math.imul(H,at)|0,s=s+Math.imul($,ut)|0,r=r+Math.imul($,lt)|0,r=r+Math.imul(P,ut)|0,h=h+Math.imul(P,lt)|0,s=s+Math.imul(U,dt)|0,r=r+Math.imul(U,ct)|0,r=r+Math.imul(Z,dt)|0,h=h+Math.imul(Z,ct)|0;var $t=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+($t>>>26)|0,$t&=67108863,s=Math.imul(j,ht),r=Math.imul(j,ot),r=r+Math.imul(J,ht)|0,h=Math.imul(J,ot),s=s+Math.imul(K,ft)|0,r=r+Math.imul(K,at)|0,r=r+Math.imul(D,ft)|0,h=h+Math.imul(D,at)|0,s=s+Math.imul(z,ut)|0,r=r+Math.imul(z,lt)|0,r=r+Math.imul(H,ut)|0,h=h+Math.imul(H,lt)|0,s=s+Math.imul($,dt)|0,r=r+Math.imul($,ct)|0,r=r+Math.imul(P,dt)|0,h=h+Math.imul(P,ct)|0;var Pt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,s=Math.imul(j,ft),r=Math.imul(j,at),r=r+Math.imul(J,ft)|0,h=Math.imul(J,at),s=s+Math.imul(K,ut)|0,r=r+Math.imul(K,lt)|0,r=r+Math.imul(D,ut)|0,h=h+Math.imul(D,lt)|0,s=s+Math.imul(z,dt)|0,r=r+Math.imul(z,ct)|0,r=r+Math.imul(H,dt)|0,h=h+Math.imul(H,ct)|0;var zt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(zt>>>26)|0,zt&=67108863,s=Math.imul(j,ut),r=Math.imul(j,lt),r=r+Math.imul(J,ut)|0,h=Math.imul(J,lt),s=s+Math.imul(K,dt)|0,r=r+Math.imul(K,ct)|0,r=r+Math.imul(D,dt)|0,h=h+Math.imul(D,ct)|0;var Ht=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,s=Math.imul(j,dt),r=Math.imul(j,ct),r=r+Math.imul(J,dt)|0,h=Math.imul(J,ct);var Kt=(l+s|0)+((r&8191)<<13)|0;return l=(h+(r>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,a[0]=Rt,a[1]=It,a[2]=At,a[3]=qt,a[4]=Ot,a[5]=Tt,a[6]=Et,a[7]=Bt,a[8]=Nt,a[9]=Lt,a[10]=Ct,a[11]=Ft,a[12]=Ut,a[13]=Zt,a[14]=$t,a[15]=Pt,a[16]=zt,a[17]=Ht,a[18]=Kt,l!==0&&(a[19]=l,i.length++),i};Math.imul||(bt=yt);function kt(f,t,e){e.negative=t.negative^f.negative,e.length=f.length+t.length;for(var i=0,n=0,o=0;o<e.length-1;o++){var a=n;n=0;for(var l=i&67108863,s=Math.min(o,t.length-1),r=Math.max(0,o-f.length+1);r<=s;r++){var h=o-r,y=f.words[h]|0,_=t.words[r]|0,x=y*_,b=x&67108863;a=a+(x/67108864|0)|0,b=b+l|0,l=b&67108863,a=a+(b>>>26)|0,n+=a>>>26,a&=67108863}e.words[o]=l,i=a,a=n}return i!==0?e.words[o]=i:e.length--,e.strip()}function m(f,t,e){var i=new p;return i.mulp(f,t,e)}u.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return this.length===10&&t.length===10?i=bt(this,t,e):n<63?i=yt(this,t,e):n<1024?i=kt(this,t,e):i=m(this,t,e),i};function p(f,t){this.x=f,this.y=t}p.prototype.makeRBT=function(t){for(var e=new Array(t),i=u.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},p.prototype.revBin=function(t,e,i){if(t===0||t===i-1)return t;for(var n=0,o=0;o<e;o++)n|=(t&1)<<e-o-1,t>>=1;return n},p.prototype.permute=function(t,e,i,n,o,a){for(var l=0;l<a;l++)n[l]=e[t[l]],o[l]=i[t[l]]},p.prototype.transform=function(t,e,i,n,o,a){this.permute(a,t,e,i,n,o);for(var l=1;l<o;l<<=1)for(var s=l<<1,r=Math.cos(2*Math.PI/s),h=Math.sin(2*Math.PI/s),y=0;y<o;y+=s)for(var _=r,x=h,b=0;b<l;b++){var I=i[y+b],A=n[y+b],Mt=i[y+b+l],q=n[y+b+l],O=_*Mt-x*q;q=_*q+x*Mt,Mt=O,i[y+b]=I+Mt,n[y+b]=A+q,i[y+b+l]=I-Mt,n[y+b+l]=A-q,b!==s&&(O=r*_-h*x,x=r*x+h*_,_=O)}},p.prototype.guessLen13b=function(t,e){var i=Math.max(e,t)|1,n=i&1,o=0;for(i=i/2|0;i;i=i>>>1)o++;return 1<<o+1+n},p.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var o=t[n];t[n]=t[i-n-1],t[i-n-1]=o,o=e[n],e[n]=-e[i-n-1],e[i-n-1]=-o}},p.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var o=Math.round(t[2*n+1]/e)*8192+Math.round(t[2*n]/e)+i;t[n]=o&67108863,o<67108864?i=0:i=o/67108864|0}return t},p.prototype.convert13b=function(t,e,i,n){for(var o=0,a=0;a<e;a++)o=o+(t[a]|0),i[2*a]=o&8191,o=o>>>13,i[2*a+1]=o&8191,o=o>>>13;for(a=2*e;a<n;++a)i[a]=0;c(o===0),c((o&-8192)===0)},p.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},p.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),o=this.makeRBT(n),a=this.stub(n),l=new Array(n),s=new Array(n),r=new Array(n),h=new Array(n),y=new Array(n),_=new Array(n),x=i.words;x.length=n,this.convert13b(t.words,t.length,l,n),this.convert13b(e.words,e.length,h,n),this.transform(l,a,s,r,n,o),this.transform(h,a,y,_,n,o);for(var b=0;b<n;b++){var I=s[b]*y[b]-r[b]*_[b];r[b]=s[b]*_[b]+r[b]*y[b],s[b]=I}return this.conjugate(s,r,n),this.transform(s,r,x,a,n,o),this.conjugate(x,a,n),this.normalize13b(x,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},u.prototype.mul=function(t){var e=new u(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},u.prototype.mulf=function(t){var e=new u(null);return e.words=new Array(this.length+t.length),m(this,t,e)},u.prototype.imul=function(t){return this.clone().mulTo(t,this)},u.prototype.imuln=function(t){c(typeof t=="number"),c(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(this.words[i]|0)*t,o=(n&67108863)+(e&67108863);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=o&67108863}return e!==0&&(this.words[i]=e,this.length++),this},u.prototype.muln=function(t){return this.clone().imuln(t)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(t){var e=xt(t);if(e.length===0)return new u(1);for(var i=this,n=0;n<e.length&&e[n]===0;n++,i=i.sqr());if(++n<e.length)for(var o=i.sqr();n<e.length;n++,o=o.sqr())e[n]!==0&&(i=i.mul(o));return i},u.prototype.iushln=function(t){c(typeof t=="number"&&t>=0);var e=t%26,i=(t-e)/26,n=67108863>>>26-e<<26-e,o;if(e!==0){var a=0;for(o=0;o<this.length;o++){var l=this.words[o]&n,s=(this.words[o]|0)-l<<e;this.words[o]=s|a,a=l>>>26-e}a&&(this.words[o]=a,this.length++)}if(i!==0){for(o=this.length-1;o>=0;o--)this.words[o+i]=this.words[o];for(o=0;o<i;o++)this.words[o]=0;this.length+=i}return this.strip()},u.prototype.ishln=function(t){return c(this.negative===0),this.iushln(t)},u.prototype.iushrn=function(t,e,i){c(typeof t=="number"&&t>=0);var n;e?n=(e-e%26)/26:n=0;var o=t%26,a=Math.min((t-o)/26,this.length),l=67108863^67108863>>>o<<o,s=i;if(n-=a,n=Math.max(0,n),s){for(var r=0;r<a;r++)s.words[r]=this.words[r];s.length=a}if(a!==0)if(this.length>a)for(this.length-=a,r=0;r<this.length;r++)this.words[r]=this.words[r+a];else this.words[0]=0,this.length=1;var h=0;for(r=this.length-1;r>=0&&(h!==0||r>=n);r--){var y=this.words[r]|0;this.words[r]=h<<26-o|y>>>o,h=y&l}return s&&h!==0&&(s.words[s.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(t,e,i){return c(this.negative===0),this.iushrn(t,e,i)},u.prototype.shln=function(t){return this.clone().ishln(t)},u.prototype.ushln=function(t){return this.clone().iushln(t)},u.prototype.shrn=function(t){return this.clone().ishrn(t)},u.prototype.ushrn=function(t){return this.clone().iushrn(t)},u.prototype.testn=function(t){c(typeof t=="number"&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return!1;var o=this.words[i];return!!(o&n)},u.prototype.imaskn=function(t){c(typeof t=="number"&&t>=0);var e=t%26,i=(t-e)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(e!==0&&i++,this.length=Math.min(i,this.length),e!==0){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(t){return this.clone().imaskn(t)},u.prototype.iaddn=function(t){return c(typeof t=="number"),c(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},u.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},u.prototype.isubn=function(t){if(c(typeof t=="number"),c(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},u.prototype.addn=function(t){return this.clone().iaddn(t)},u.prototype.subn=function(t){return this.clone().isubn(t)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(t,e,i){var n=t.length+i,o;this._expand(n);var a,l=0;for(o=0;o<t.length;o++){a=(this.words[o+i]|0)+l;var s=(t.words[o]|0)*e;a-=s&67108863,l=(a>>26)-(s/67108864|0),this.words[o+i]=a&67108863}for(;o<this.length-i;o++)a=(this.words[o+i]|0)+l,l=a>>26,this.words[o+i]=a&67108863;if(l===0)return this.strip();for(c(l===-1),l=0,o=0;o<this.length;o++)a=-(this.words[o]|0)+l,l=a>>26,this.words[o]=a&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(t,e){var i=this.length-t.length,n=this.clone(),o=t,a=o.words[o.length-1]|0,l=this._countBits(a);i=26-l,i!==0&&(o=o.ushln(i),n.iushln(i),a=o.words[o.length-1]|0);var s=n.length-o.length,r;if(e!=="mod"){r=new u(null),r.length=s+1,r.words=new Array(r.length);for(var h=0;h<r.length;h++)r.words[h]=0}var y=n.clone()._ishlnsubmul(o,1,s);y.negative===0&&(n=y,r&&(r.words[s]=1));for(var _=s-1;_>=0;_--){var x=(n.words[o.length+_]|0)*67108864+(n.words[o.length+_-1]|0);for(x=Math.min(x/a|0,67108863),n._ishlnsubmul(o,x,_);n.negative!==0;)x--,n.negative=0,n._ishlnsubmul(o,1,_),n.isZero()||(n.negative^=1);r&&(r.words[_]=x)}return r&&r.strip(),n.strip(),e!=="div"&&i!==0&&n.iushrn(i),{div:r||null,mod:n}},u.prototype.divmod=function(t,e,i){if(c(!t.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,o,a;return this.negative!==0&&t.negative===0?(a=this.neg().divmod(t,e),e!=="mod"&&(n=a.div.neg()),e!=="div"&&(o=a.mod.neg(),i&&o.negative!==0&&o.iadd(t)),{div:n,mod:o}):this.negative===0&&t.negative!==0?(a=this.divmod(t.neg(),e),e!=="mod"&&(n=a.div.neg()),{div:n,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),e!=="div"&&(o=a.mod.neg(),i&&o.negative!==0&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new u(0),mod:this}:t.length===1?e==="div"?{div:this.divn(t.words[0]),mod:null}:e==="mod"?{div:null,mod:new u(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new u(this.modn(t.words[0]))}:this._wordDiv(t,e)},u.prototype.div=function(t){return this.divmod(t,"div",!1).div},u.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},u.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},u.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=e.div.negative!==0?e.mod.isub(t):e.mod,n=t.ushrn(1),o=t.andln(1),a=i.cmp(n);return a<0||o===1&&a===0?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)},u.prototype.modn=function(t){c(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(this.words[n]|0))%t;return i},u.prototype.idivn=function(t){c(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(this.words[i]|0)+e*67108864;this.words[i]=n/t|0,e=n%t}return this.strip()},u.prototype.divn=function(t){return this.clone().idivn(t)},u.prototype.egcd=function(t){c(t.negative===0),c(!t.isZero());var e=this,i=t.clone();e.negative!==0?e=e.umod(t):e=e.clone();for(var n=new u(1),o=new u(0),a=new u(0),l=new u(1),s=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++s;for(var r=i.clone(),h=e.clone();!e.isZero();){for(var y=0,_=1;!(e.words[0]&_)&&y<26;++y,_<<=1);if(y>0)for(e.iushrn(y);y-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(r),o.isub(h)),n.iushrn(1),o.iushrn(1);for(var x=0,b=1;!(i.words[0]&b)&&x<26;++x,b<<=1);if(x>0)for(i.iushrn(x);x-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(r),l.isub(h)),a.iushrn(1),l.iushrn(1);e.cmp(i)>=0?(e.isub(i),n.isub(a),o.isub(l)):(i.isub(e),a.isub(n),l.isub(o))}return{a,b:l,gcd:i.iushln(s)}},u.prototype._invmp=function(t){c(t.negative===0),c(!t.isZero());var e=this,i=t.clone();e.negative!==0?e=e.umod(t):e=e.clone();for(var n=new u(1),o=new u(0),a=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,s=1;!(e.words[0]&s)&&l<26;++l,s<<=1);if(l>0)for(e.iushrn(l);l-- >0;)n.isOdd()&&n.iadd(a),n.iushrn(1);for(var r=0,h=1;!(i.words[0]&h)&&r<26;++r,h<<=1);if(r>0)for(i.iushrn(r);r-- >0;)o.isOdd()&&o.iadd(a),o.iushrn(1);e.cmp(i)>=0?(e.isub(i),n.isub(o)):(i.isub(e),o.isub(n))}var y;return e.cmpn(1)===0?y=n:y=o,y.cmpn(0)<0&&y.iadd(t),y},u.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);do{for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var o=e.cmp(i);if(o<0){var a=e;e=i,i=a}else if(o===0||i.cmpn(1)===0)break;e.isub(i)}while(!0);return i.iushln(n)},u.prototype.invm=function(t){return this.egcd(t).a.umod(t)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(t){return this.words[0]&t},u.prototype.bincn=function(t){c(typeof t=="number");var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,a=i;o!==0&&a<this.length;a++){var l=this.words[a]|0;l+=o,o=l>>>26,l&=67108863,this.words[a]=l}return o!==0&&(this.words[a]=o,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(t){var e=t<0;if(this.negative!==0&&!e)return-1;if(this.negative===0&&e)return 1;this.strip();var i;if(this.length>1)i=1;else{e&&(t=-t),c(t<=67108863,"Number is too big");var n=this.words[0]|0;i=n===t?0:n<t?-1:1}return this.negative!==0?-i|0:i},u.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var e=this.ucmp(t);return this.negative!==0?-e|0:e},u.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=this.words[i]|0,o=t.words[i]|0;if(n!==o){n<o?e=-1:n>o&&(e=1);break}}return e},u.prototype.gtn=function(t){return this.cmpn(t)===1},u.prototype.gt=function(t){return this.cmp(t)===1},u.prototype.gten=function(t){return this.cmpn(t)>=0},u.prototype.gte=function(t){return this.cmp(t)>=0},u.prototype.ltn=function(t){return this.cmpn(t)===-1},u.prototype.lt=function(t){return this.cmp(t)===-1},u.prototype.lten=function(t){return this.cmpn(t)<=0},u.prototype.lte=function(t){return this.cmp(t)<=0},u.prototype.eqn=function(t){return this.cmpn(t)===0},u.prototype.eq=function(t){return this.cmp(t)===0},u.red=function(t){return new B(t)},u.prototype.toRed=function(t){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},u.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(t){return this.red=t,this},u.prototype.forceRed=function(t){return c(!this.red,"Already a number in reduction context"),this._forceRed(t)},u.prototype.redAdd=function(t){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},u.prototype.redIAdd=function(t){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},u.prototype.redSub=function(t){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},u.prototype.redISub=function(t){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},u.prototype.redShl=function(t){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},u.prototype.redMul=function(t){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},u.prototype.redIMul=function(t){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},u.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(t){return c(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function M(f,t){this.name=f,this.p=new u(t,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var t=new u(null);return t.words=new Array(Math.ceil(this.n/13)),t},M.prototype.ireduce=function(t){var e=t,i;do this.split(e,this.tmp),e=this.imulK(e),e=e.iadd(this.tmp),i=e.bitLength();while(i>this.n);var n=i<this.n?-1:e.ucmp(this.p);return n===0?(e.words[0]=0,e.length=1):n>0?e.isub(this.p):e.strip(),e},M.prototype.split=function(t,e){t.iushrn(this.n,0,e)},M.prototype.imulK=function(t){return t.imul(this.k)};function S(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}R(S,M),S.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),o=0;o<n;o++)e.words[o]=t.words[o];if(e.length=n,t.length<=9){t.words[0]=0,t.length=1;return}var a=t.words[9];for(e.words[e.length++]=a&i,o=10;o<t.length;o++){var l=t.words[o]|0;t.words[o-10]=(l&i)<<4|a>>>22,a=l}a>>>=22,t.words[o-10]=a,a===0&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=t.words[i]|0;e+=n*977,t.words[i]=e&67108863,e=n*64+(e/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function E(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}R(E,M);function k(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}R(k,M);function mt(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}R(mt,M),mt.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=(t.words[i]|0)*19+e,o=n&67108863;n>>>=26,t.words[i]=o,e=n}return e!==0&&(t.words[t.length++]=e),t},u._prime=function(t){if(w[t])return w[t];var e;if(t==="k256")e=new S;else if(t==="p224")e=new E;else if(t==="p192")e=new k;else if(t==="p25519")e=new mt;else throw new Error("Unknown prime "+t);return w[t]=e,e};function B(f){if(typeof f=="string"){var t=u._prime(f);this.m=t.p,this.prime=t}else c(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}B.prototype._verify1=function(t){c(t.negative===0,"red works only with positives"),c(t.red,"red works only with red numbers")},B.prototype._verify2=function(t,e){c((t.negative|e.negative)===0,"red works only with positives"),c(t.red&&t.red===e.red,"red works only with red numbers")},B.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},B.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},B.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},B.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},B.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},B.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},B.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},B.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},B.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},B.prototype.isqr=function(t){return this.imul(t,t.clone())},B.prototype.sqr=function(t){return this.mul(t,t)},B.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(c(e%2===1),e===3){var i=this.m.add(new u(1)).iushrn(2);return this.pow(t,i)}for(var n=this.m.subn(1),o=0;!n.isZero()&&n.andln(1)===0;)o++,n.iushrn(1);c(!n.isZero());var a=new u(1).toRed(this),l=a.redNeg(),s=this.m.subn(1).iushrn(1),r=this.m.bitLength();for(r=new u(2*r*r).toRed(this);this.pow(r,s).cmp(l)!==0;)r.redIAdd(l);for(var h=this.pow(r,n),y=this.pow(t,n.addn(1).iushrn(1)),_=this.pow(t,n),x=o;_.cmp(a)!==0;){for(var b=_,I=0;b.cmp(a)!==0;I++)b=b.redSqr();c(I<x);var A=this.pow(h,new u(1).iushln(x-I-1));y=y.redMul(A),h=A.redSqr(),_=_.redMul(h),x=I}return y},B.prototype.invm=function(t){var e=t._invmp(this.m);return e.negative!==0?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},B.prototype.pow=function(t,e){if(e.isZero())return new u(1).toRed(this);if(e.cmpn(1)===0)return t.clone();var i=4,n=new Array(1<<i);n[0]=new u(1).toRed(this),n[1]=t;for(var o=2;o<n.length;o++)n[o]=this.mul(n[o-1],t);var a=n[0],l=0,s=0,r=e.bitLength()%26;for(r===0&&(r=26),o=e.length-1;o>=0;o--){for(var h=e.words[o],y=r-1;y>=0;y--){var _=h>>y&1;if(a!==n[0]&&(a=this.sqr(a)),_===0&&l===0){s=0;continue}l<<=1,l|=_,s++,!(s!==i&&(o!==0||y!==0))&&(a=this.mul(a,n[l]),s=0,l=0)}r=26}return a},B.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},B.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},u.mont=function(t){return new wt(t)};function wt(f){B.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R(wt,B),wt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},wt.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},wt.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=i.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},wt.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new u(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=i.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},wt.prototype.invm=function(t){var e=this.imod(t._invmp(this.m).mul(this.r2));return e._forceRed(this)}})(v,qr)})(Cr);Cr.exports;var Fr={};(function(v){const d=Tr,g=Er,c=Or,R=m=>m==null;function u(m){switch(m.arrayFormat){case"index":return p=>(w,M)=>{const S=w.length;return M===void 0||m.skipNull&&M===null||m.skipEmptyString&&M===""?w:M===null?[...w,[T(p,m),"[",S,"]"].join("")]:[...w,[T(p,m),"[",T(S,m),"]=",T(M,m)].join("")]};case"bracket":return p=>(w,M)=>M===void 0||m.skipNull&&M===null||m.skipEmptyString&&M===""?w:M===null?[...w,[T(p,m),"[]"].join("")]:[...w,[T(p,m),"[]=",T(M,m)].join("")];case"comma":case"separator":return p=>(w,M)=>M==null||M.length===0?w:w.length===0?[[T(p,m),"=",T(M,m)].join("")]:[[w,T(M,m)].join(m.arrayFormatSeparator)];default:return p=>(w,M)=>M===void 0||m.skipNull&&M===null||m.skipEmptyString&&M===""?w:M===null?[...w,T(p,m)]:[...w,[T(p,m),"=",T(M,m)].join("")]}}function vt(m){let p;switch(m.arrayFormat){case"index":return(w,M,S)=>{if(p=/\[(\d*)\]$/.exec(w),w=w.replace(/\[\d*\]$/,""),!p){S[w]=M;return}S[w]===void 0&&(S[w]={}),S[w][p[1]]=M};case"bracket":return(w,M,S)=>{if(p=/(\[\])$/.exec(w),w=w.replace(/\[\]$/,""),!p){S[w]=M;return}if(S[w]===void 0){S[w]=[M];return}S[w]=[].concat(S[w],M)};case"comma":case"separator":return(w,M,S)=>{const k=typeof M=="string"&&M.split("").indexOf(m.arrayFormatSeparator)>-1?M.split(m.arrayFormatSeparator).map(mt=>pt(mt,m)):M===null?M:pt(M,m);S[w]=k};default:return(w,M,S)=>{if(S[w]===void 0){S[w]=M;return}S[w]=[].concat(S[w],M)}}}function gt(m){if(typeof m!="string"||m.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function T(m,p){return p.encode?p.strict?d(m):encodeURIComponent(m):m}function pt(m,p){return p.decode?g(m):m}function St(m){return Array.isArray(m)?m.sort():typeof m=="object"?St(Object.keys(m)).sort((p,w)=>Number(p)-Number(w)).map(p=>m[p]):m}function _t(m){const p=m.indexOf("#");return p!==-1&&(m=m.slice(0,p)),m}function xt(m){let p="";const w=m.indexOf("#");return w!==-1&&(p=m.slice(w)),p}function yt(m){m=_t(m);const p=m.indexOf("?");return p===-1?"":m.slice(p+1)}function bt(m,p){return p.parseNumbers&&!Number.isNaN(Number(m))&&typeof m=="string"&&m.trim()!==""?m=Number(m):p.parseBooleans&&m!==null&&(m.toLowerCase()==="true"||m.toLowerCase()==="false")&&(m=m.toLowerCase()==="true"),m}function kt(m,p){p=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},p),gt(p.arrayFormatSeparator);const w=vt(p),M=Object.create(null);if(typeof m!="string"||(m=m.trim().replace(/^[?#&]/,""),!m))return M;for(const S of m.split("&")){let[E,k]=c(p.decode?S.replace(/\+/g," "):S,"=");k=k===void 0?null:["comma","separator"].includes(p.arrayFormat)?k:pt(k,p),w(pt(E,p),k,M)}for(const S of Object.keys(M)){const E=M[S];if(typeof E=="object"&&E!==null)for(const k of Object.keys(E))E[k]=bt(E[k],p);else M[S]=bt(E,p)}return p.sort===!1?M:(p.sort===!0?Object.keys(M).sort():Object.keys(M).sort(p.sort)).reduce((S,E)=>{const k=M[E];return k&&typeof k=="object"&&!Array.isArray(k)?S[E]=St(k):S[E]=k,S},Object.create(null))}v.extract=yt,v.parse=kt,v.stringify=(m,p)=>{if(!m)return"";p=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},p),gt(p.arrayFormatSeparator);const w=k=>p.skipNull&&R(m[k])||p.skipEmptyString&&m[k]==="",M=u(p),S={};for(const k of Object.keys(m))w(k)||(S[k]=m[k]);const E=Object.keys(S);return p.sort!==!1&&E.sort(p.sort),E.map(k=>{const mt=m[k];return mt===void 0?"":mt===null?T(k,p):Array.isArray(mt)?mt.reduce(M(k),[]).join("&"):T(k,p)+"="+T(mt,p)}).filter(k=>k.length>0).join("&")},v.parseUrl=(m,p)=>{p=Object.assign({decode:!0},p);const[w,M]=c(m,"#");return Object.assign({url:w.split("?")[0]||"",query:kt(yt(m),p)},p&&p.parseFragmentIdentifier&&M?{fragmentIdentifier:pt(M,p)}:{})},v.stringifyUrl=(m,p)=>{p=Object.assign({encode:!0,strict:!0},p);const w=_t(m.url).split("?")[0]||"",M=v.extract(m.url),S=v.parse(M,{sort:!1}),E=Object.assign(S,m.query);let k=v.stringify(E,p);k&&(k=`?${k}`);let mt=xt(m.url);return m.fragmentIdentifier&&(mt=`#${T(m.fragmentIdentifier,p)}`),`${w}${k}${mt}`}})(Fr);function si(v){const d=v.indexOf("?")!==-1?v.indexOf("?"):void 0;return typeof d<"u"?v.substr(d):""}function hi(v,d){let g=oi(v);return g=Object.assign(Object.assign({},g),d),v=fi(g),v}function oi(v){return Fr.parse(v)}function fi(v){return Fr.stringify(v)}class ai{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(d,g){this._eventEmitters.push({event:d,callback:g})}trigger(d){let g=[];d&&(g=this._eventEmitters.filter(c=>c.event===d)),g.forEach(c=>{c.callback()})}}const ui=typeof zr.WebSocket<"u"?zr.WebSocket:ni();class li{constructor(d){if(this.opts=d,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=d.protocol,this._version=d.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=d.subscriptions||[],this._netMonitor=d.netMonitor||new ai,!d.url||typeof d.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=d.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(d){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(d){}get connecting(){return this.readyState===0}set connected(d){}get connected(){return this.readyState===1}set closing(d){}get closing(){return this.readyState===2}set closed(d){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(d,g,c){if(!g||typeof g!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:g,type:"pub",payload:d,silent:!!c})}subscribe(d){this._socketSend({topic:d,type:"sub",payload:"",silent:!0})}on(d,g){this._events.push({event:d,callback:g})}_socketCreate(){if(this._nextSocket)return;const d=di(this._url,this._protocol,this._version);if(this._nextSocket=new ui(d),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=g=>this._socketReceive(g),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=g=>this._socketError(g),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(d){const g=JSON.stringify(d);this._socket&&this._socket.readyState===1?this._socket.send(g):(this._setToQueue(d),this._socketCreate())}async _socketReceive(d){let g;try{g=JSON.parse(d.data)}catch{return}if(this._socketSend({topic:g.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const c=this._events.filter(R=>R.event==="message");c&&c.length&&c.forEach(R=>R.callback(g))}}_socketError(d){const g=this._events.filter(c=>c.event==="error");g&&g.length&&g.forEach(c=>c.callback(d))}_queueSubscriptions(){this._subscriptions.forEach(g=>this._queue.push({topic:g,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(d){this._queue.push(d)}_pushQueue(){this._queue.forEach(g=>this._socketSend(g)),this._queue=[]}}function di(v,d,g){var c,R;const vt=(v.startsWith("https")?v.replace("https","wss"):v.startsWith("http")?v.replace("http","ws"):v).split("?"),gt=me()?{protocol:d,version:g,env:"browser",host:((c=ve())===null||c===void 0?void 0:c.host)||""}:{protocol:d,version:g,env:((R=pe())===null||R===void 0?void 0:R.name)||""},T=hi(si(vt[1]||""),gt);return vt[0]+"?"+T}const kr="Session currently connected",ur="Session currently disconnected",ci="Session Rejected",mi="Missing JSON RPC response",vi='JSON-RPC success response must include "result" field',pi='JSON-RPC error response must include "error" field',gi='JSON RPC request must have valid "method" value',Mi='JSON RPC request must have valid "id" value',yi="Missing one of the required parameters: bridge / uri / session",jr="JSON RPC response format is invalid",wi="URI format is invalid",_i="QRCode Modal not provided",Jr="User close QRCode Modal";class xi{constructor(){this._eventEmitters=[]}subscribe(d){this._eventEmitters.push(d)}unsubscribe(d){this._eventEmitters=this._eventEmitters.filter(g=>g.event!==d)}trigger(d){let g=[],c;Qe(d)?c=d.method:vr(d)||yr(d)?c=`response:${d.id}`:Hr(d)?c=d.event:c="",c&&(g=this._eventEmitters.filter(R=>R.event===c)),(!g||!g.length)&&!Ge(c)&&!Hr(c)&&(g=this._eventEmitters.filter(R=>R.event==="call_request")),g.forEach(R=>{if(yr(d)){const u=new Error(d.error.message);R.callback(u,null)}else R.callback(null,d)})}}class bi{constructor(d="walletconnect"){this.storageId=d}getSession(){let d=null;const g=Wr(this.storageId);return g&&ei(g)&&(d=g),d}setSession(d){return ge(this.storageId,d),d}removeSession(){Qr(this.storageId)}}const Si="walletconnect.org",ki="abcdefghijklmnopqrstuvwxyz0123456789",fe=ki.split("").map(v=>`https://${v}.bridge.walletconnect.org`);function Ri(v){let d=v.indexOf("//")>-1?v.split("/")[2]:v.split("/")[0];return d=d.split(":")[0],d=d.split("?")[0],d}function Ii(v){return Ri(v).split(".").slice(-2).join(".")}function Ai(){return Math.floor(Math.random()*fe.length)}function qi(){return fe[Ai()]}function Oi(v){return Ii(v)===Si}function Ti(v){return Oi(v)?qi():v}class Ei{constructor(d){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new xi,this._clientMeta=$r()||d.connectorOpts.clientMeta||null,this._cryptoLib=d.cryptoLib,this._sessionStorage=d.sessionStorage||new bi(d.connectorOpts.storageId),this._qrcodeModal=d.connectorOpts.qrcodeModal,this._qrcodeModalOptions=d.connectorOpts.qrcodeModalOptions,this._signingMethods=[...Vr,...d.connectorOpts.signingMethods||[]],!d.connectorOpts.bridge&&!d.connectorOpts.uri&&!d.connectorOpts.session)throw new Error(yi);d.connectorOpts.bridge&&(this.bridge=Ti(d.connectorOpts.bridge)),d.connectorOpts.uri&&(this.uri=d.connectorOpts.uri);const g=d.connectorOpts.session||this._getStorageSession();g&&(this.session=g),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=d.transport||new li({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),d.connectorOpts.uri&&this._subscribeToSessionRequest(),d.pushServerOpts&&this._registerPushServer(d.pushServerOpts)}set bridge(d){d&&(this._bridge=d)}get bridge(){return this._bridge}set key(d){if(!d)return;const g=Ke(d);this._key=g}get key(){return this._key?Pe(this._key,!0):""}set clientId(d){d&&(this._clientId=d)}get clientId(){let d=this._clientId;return d||(d=this._clientId=xr()),this._clientId}set peerId(d){d&&(this._peerId=d)}get peerId(){return this._peerId}set clientMeta(d){}get clientMeta(){let d=this._clientMeta;return d||(d=this._clientMeta=$r()),d}set peerMeta(d){this._peerMeta=d}get peerMeta(){return this._peerMeta}set handshakeTopic(d){d&&(this._handshakeTopic=d)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(d){d&&(this._handshakeId=d)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(d){if(!d)return;const{handshakeTopic:g,bridge:c,key:R}=this._parseUri(d);this.handshakeTopic=g,this.bridge=c,this.key=R}set chainId(d){this._chainId=d}get chainId(){return this._chainId}set networkId(d){this._networkId=d}get networkId(){return this._networkId}set accounts(d){this._accounts=d}get accounts(){return this._accounts}set rpcUrl(d){this._rpcUrl=d}get rpcUrl(){return this._rpcUrl}set connected(d){}get connected(){return this._connected}set pending(d){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(d){d&&(this._connected=d.connected,this.accounts=d.accounts,this.chainId=d.chainId,this.bridge=d.bridge,this.key=d.key,this.clientId=d.clientId,this.clientMeta=d.clientMeta,this.peerId=d.peerId,this.peerMeta=d.peerMeta,this.handshakeId=d.handshakeId,this.handshakeTopic=d.handshakeTopic)}on(d,g){const c={event:d,callback:g};this._eventManager.subscribe(c)}off(d){this._eventManager.unsubscribe(d)}async createInstantRequest(d){this._key=await this._generateKey();const g=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(d)}]});this.handshakeId=g.id,this.handshakeTopic=xr(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Jr)});const c=()=>{this.killSession()};try{const R=await this._sendCallRequest(g);return R&&c(),R}catch(R){throw c(),R}}async connect(d){if(!this._qrcodeModal)throw new Error(_i);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(d),new Promise(async(g,c)=>{this.on("modal_closed",()=>c(new Error(Jr))),this.on("connect",(R,u)=>{if(R)return c(R);g(u.params[0])})}))}async createSession(d){if(this._connected)throw new Error(kr);if(this.pending)return;this._key=await this._generateKey();const g=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:d&&d.chainId?d.chainId:null}]});this.handshakeId=g.id,this.handshakeTopic=xr(),this._sendSessionRequest(g,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(d){if(this._connected)throw new Error(kr);this.chainId=d.chainId,this.accounts=d.accounts,this.networkId=d.networkId||0,this.rpcUrl=d.rpcUrl||"";const g={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},c={id:this.handshakeId,jsonrpc:"2.0",result:g};this._sendResponse(c),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(d){if(this._connected)throw new Error(kr);const g=d&&d.message?d.message:ci,c=this._formatResponse({id:this.handshakeId,error:{message:g}});this._sendResponse(c),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:g}]}),this._removeStorageSession()}updateSession(d){if(!this._connected)throw new Error(ur);this.chainId=d.chainId,this.accounts=d.accounts,this.networkId=d.networkId||0,this.rpcUrl=d.rpcUrl||"";const g={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},c=this._formatRequest({method:"wc_sessionUpdate",params:[g]});this._sendSessionRequest(c,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(d){const g=d?d.message:"Session Disconnected",c={approved:!1,chainId:null,networkId:null,accounts:null},R=this._formatRequest({method:"wc_sessionUpdate",params:[c]});await this._sendRequest(R),this._handleSessionDisconnect(g)}async sendTransaction(d){if(!this._connected)throw new Error(ur);const g=br(d),c=this._formatRequest({method:"eth_sendTransaction",params:[g]});return await this._sendCallRequest(c)}async signTransaction(d){if(!this._connected)throw new Error(ur);const g=br(d),c=this._formatRequest({method:"eth_signTransaction",params:[g]});return await this._sendCallRequest(c)}async signMessage(d){if(!this._connected)throw new Error(ur);const g=this._formatRequest({method:"eth_sign",params:d});return await this._sendCallRequest(g)}async signPersonalMessage(d){if(!this._connected)throw new Error(ur);d=Kr(d);const g=this._formatRequest({method:"personal_sign",params:d});return await this._sendCallRequest(g)}async signTypedData(d){if(!this._connected)throw new Error(ur);const g=this._formatRequest({method:"eth_signTypedData",params:d});return await this._sendCallRequest(g)}async updateChain(d){if(!this._connected)throw new Error("Session currently disconnected");const g=this._formatRequest({method:"wallet_updateChain",params:[d]});return await this._sendCallRequest(g)}unsafeSend(d,g){return this._sendRequest(d,g),this._eventManager.trigger({event:"call_request_sent",params:[{request:d,options:g}]}),new Promise((c,R)=>{this._subscribeToResponse(d.id,(u,vt)=>{if(u){R(u);return}if(!vt)throw new Error(mi);c(vt)})})}async sendCustomRequest(d,g){if(!this._connected)throw new Error(ur);switch(d.method){case"eth_accounts":return this.accounts;case"eth_chainId":return se(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":d.params&&(d.params[0]=br(d.params[0]));break;case"personal_sign":d.params&&(d.params=Kr(d.params));break}const c=this._formatRequest(d);return await this._sendCallRequest(c,g)}approveRequest(d){if(vr(d)){const g=this._formatResponse(d);this._sendResponse(g)}else throw new Error(vi)}rejectRequest(d){if(yr(d)){const g=this._formatResponse(d);this._sendResponse(g)}else throw new Error(pi)}transportClose(){this._transport.close()}async _sendRequest(d,g){const c=this._formatRequest(d),R=await this._encrypt(c),u=typeof(g==null?void 0:g.topic)<"u"?g.topic:this.peerId,vt=JSON.stringify(R),gt=typeof(g==null?void 0:g.forcePushNotification)<"u"?!g.forcePushNotification:Ve(c);this._transport.send(vt,u,gt)}async _sendResponse(d){const g=await this._encrypt(d),c=this.peerId,R=JSON.stringify(g),u=!0;this._transport.send(R,c,u)}async _sendSessionRequest(d,g,c){this._sendRequest(d,c),this._subscribeToSessionResponse(d.id,g)}_sendCallRequest(d,g){return this._sendRequest(d,g),this._eventManager.trigger({event:"call_request_sent",params:[{request:d,options:g}]}),this._subscribeToCallResponse(d.id)}_formatRequest(d){if(typeof d.method>"u")throw new Error(gi);return{id:typeof d.id>"u"?je():d.id,jsonrpc:"2.0",method:d.method,params:typeof d.params>"u"?[]:d.params}}_formatResponse(d){if(typeof d.id>"u")throw new Error(Mi);const g={id:d.id,jsonrpc:"2.0"};if(yr(d)){const c=ti(d.error);return Object.assign(Object.assign(Object.assign({},g),d),{error:c})}else if(vr(d))return Object.assign(Object.assign({},g),d);throw new Error(jr)}_handleSessionDisconnect(d){const g=d||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Qr(Pr)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:g}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(d,g){g?g.approved?(this._connected?(g.chainId&&(this.chainId=g.chainId),g.accounts&&(this.accounts=g.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,g.chainId&&(this.chainId=g.chainId),g.accounts&&(this.accounts=g.accounts),g.peerId&&!this.peerId&&(this.peerId=g.peerId),g.peerMeta&&!this.peerMeta&&(this.peerMeta=g.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(d):this._handleSessionDisconnect(d)}async _handleIncomingMessages(d){if(![this.clientId,this.handshakeTopic].includes(d.topic))return;let c;try{c=JSON.parse(d.payload)}catch{return}const R=await this._decrypt(c);R&&this._eventManager.trigger(R)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(d,g){this.on(`response:${d}`,g)}_subscribeToSessionResponse(d,g){this._subscribeToResponse(d,(c,R)=>{if(c){this._handleSessionResponse(c.message);return}vr(R)?this._handleSessionResponse(g,R.result):R.error&&R.error.message?this._handleSessionResponse(R.error.message):this._handleSessionResponse(g)})}_subscribeToCallResponse(d){return new Promise((g,c)=>{this._subscribeToResponse(d,(R,u)=>{if(R){c(R);return}vr(u)?g(u.result):u.error&&u.error.message?c(u.error):c(new Error(jr))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(d,g)=>{const{request:c}=g.params[0];if(Me()&&this._signingMethods.includes(c.method)){const R=Wr(Pr);R&&(window.location.href=R.href)}}),this.on("wc_sessionRequest",(d,g)=>{d&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:d.toString()}]}),this.handshakeId=g.id,this.peerId=g.params[0].peerId,this.peerMeta=g.params[0].peerMeta;const c=Object.assign(Object.assign({},g),{method:"session_request"});this._eventManager.trigger(c)}),this.on("wc_sessionUpdate",(d,g)=>{d&&this._handleSessionResponse(d.message),this._handleSessionResponse("Session disconnected",g.params[0])})}_initTransport(){this._transport.on("message",d=>this._handleIncomingMessages(d)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const d=this.protocol,g=this.handshakeTopic,c=this.version,R=encodeURIComponent(this.bridge),u=this.key;return`${d}:${g}@${c}?bridge=${R}&key=${u}`}_parseUri(d){const g=ii(d);if(g.protocol===this.protocol){if(!g.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const c=g.handshakeTopic;if(!g.bridge)throw Error("Invalid or missing bridge url parameter value");const R=decodeURIComponent(g.bridge);if(!g.key)throw Error("Invalid or missing key parameter value");const u=g.key;return{handshakeTopic:c,bridge:R,key:u}}else throw new Error(wi)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(d){const g=this._key;return this._cryptoLib&&g?await this._cryptoLib.encrypt(d,g):null}async _decrypt(d){const g=this._key;return this._cryptoLib&&g?await this._cryptoLib.decrypt(d,g):null}_getStorageSession(){let d=null;return this._sessionStorage&&(d=this._sessionStorage.getSession()),d}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(d){if(!d.url||typeof d.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!d.type||typeof d.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!d.token||typeof d.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const g={bridge:this.bridge,topic:this.clientId,type:d.type,token:d.token,peerName:"",language:d.language||""};this.on("connect",async(c,R)=>{if(c)throw c;if(d.peerMeta){const u=R.params[0].peerMeta.name;g.peerName=u}try{if(!(await(await fetch(`${d.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(g)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Bi(v){return pr.getBrowerCrypto().getRandomValues(new Uint8Array(v))}const ae=256,ue=ae,Ni=ae,ar="AES-CBC",Li=`SHA-${ue}`,Rr="HMAC",Ci="encrypt",Fi="decrypt",Ui="sign",Zi="verify";function $i(v){return v===ar?{length:ue,name:ar}:{hash:{name:Li},name:Rr}}function Pi(v){return v===ar?[Ci,Fi]:[Ui,Zi]}async function Ur(v,d=ar){return pr.getSubtleCrypto().importKey("raw",v,$i(d),!0,Pi(d))}async function zi(v,d,g){const c=pr.getSubtleCrypto(),R=await Ur(d,ar),u=await c.encrypt({iv:v,name:ar},R,g);return new Uint8Array(u)}async function Hi(v,d,g){const c=pr.getSubtleCrypto(),R=await Ur(d,ar),u=await c.decrypt({iv:v,name:ar},R,g);return new Uint8Array(u)}async function Ki(v,d){const g=pr.getSubtleCrypto(),c=await Ur(v,Rr),R=await g.sign({length:Ni,name:Rr},c,d);return new Uint8Array(R)}function Di(v,d,g){return zi(v,d,g)}function ji(v,d,g){return Hi(v,d,g)}async function le(v,d){return await Ki(v,d)}var Zr={exports:{}};Zr.exports;(function(v){(function(d,g){function c(f,t){if(!f)throw new Error(t||"Assertion failed")}function R(f,t){f.super_=t;var e=function(){};e.prototype=t.prototype,f.prototype=new e,f.prototype.constructor=f}function u(f,t,e){if(u.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((t==="le"||t==="be")&&(e=t,t=10),this._init(f||0,t||10,e||"be"))}typeof d=="object"?d.exports=u:g.BN=u,u.BN=u,u.wordSize=26;var vt;try{vt=Ar().Buffer}catch{}u.isBN=function(t){return t instanceof u?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===u.wordSize&&Array.isArray(t.words)},u.max=function(t,e){return t.cmp(e)>0?t:e},u.min=function(t,e){return t.cmp(e)<0?t:e},u.prototype._init=function(t,e,i){if(typeof t=="number")return this._initNumber(t,e,i);if(typeof t=="object")return this._initArray(t,e,i);e==="hex"&&(e=16),c(e===(e|0)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var n=0;t[0]==="-"&&n++,e===16?this._parseHex(t,n):this._parseBase(t,e,n),t[0]==="-"&&(this.negative=1),this.strip(),i==="le"&&this._initArray(this.toArray(),e,i)},u.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(c(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),i==="le"&&this._initArray(this.toArray(),e,i)},u.prototype._initArray=function(t,e,i){if(c(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,a,l=0;if(i==="be")for(n=t.length-1,o=0;n>=0;n-=3)a=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=a<<l&67108863,this.words[o+1]=a>>>26-l&67108863,l+=24,l>=26&&(l-=26,o++);else if(i==="le")for(n=0,o=0;n<t.length;n+=3)a=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=a<<l&67108863,this.words[o+1]=a>>>26-l&67108863,l+=24,l>=26&&(l-=26,o++);return this.strip()};function gt(f,t,e){for(var i=0,n=Math.min(f.length,e),o=t;o<n;o++){var a=f.charCodeAt(o)-48;i<<=4,a>=49&&a<=54?i|=a-49+10:a>=17&&a<=22?i|=a-17+10:i|=a&15}return i}u.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o,a=0;for(i=t.length-6,n=0;i>=e;i-=6)o=gt(t,i,i+6),this.words[n]|=o<<a&67108863,this.words[n+1]|=o>>>26-a&4194303,a+=24,a>=26&&(a-=26,n++);i+6!==e&&(o=gt(t,e,i+6),this.words[n]|=o<<a&67108863,this.words[n+1]|=o>>>26-a&4194303),this.strip()};function T(f,t,e,i){for(var n=0,o=Math.min(f.length,e),a=t;a<o;a++){var l=f.charCodeAt(a)-48;n*=i,l>=49?n+=l-49+10:l>=17?n+=l-17+10:n+=l}return n}u.prototype._parseBase=function(t,e,i){this.words=[0],this.length=1;for(var n=0,o=1;o<=67108863;o*=e)n++;n--,o=o/e|0;for(var a=t.length-i,l=a%n,s=Math.min(a,a-l)+i,r=0,h=i;h<s;h+=n)r=T(t,h,h+n,e),this.imuln(o),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r);if(l!==0){var y=1;for(r=T(t,h,t.length,e),h=0;h<l;h++)y*=e;this.imuln(y),this.words[0]+r<67108864?this.words[0]+=r:this._iaddn(r)}},u.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},u.prototype.clone=function(){var t=new u(null);return this.copy(t),t},u.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var pt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],St=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_t=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(t,e){t=t||10,e=e|0||1;var i;if(t===16||t==="hex"){i="";for(var n=0,o=0,a=0;a<this.length;a++){var l=this.words[a],s=((l<<n|o)&16777215).toString(16);o=l>>>24-n&16777215,o!==0||a!==this.length-1?i=pt[6-s.length]+s+i:i=s+i,n+=2,n>=26&&(n-=26,a--)}for(o!==0&&(i=o.toString(16)+i);i.length%e!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}if(t===(t|0)&&t>=2&&t<=36){var r=St[t],h=_t[t];i="";var y=this.clone();for(y.negative=0;!y.isZero();){var _=y.modn(h).toString(t);y=y.idivn(h),y.isZero()?i=_+i:i=pt[r-_.length]+_+i}for(this.isZero()&&(i="0"+i);i.length%e!==0;)i="0"+i;return this.negative!==0&&(i="-"+i),i}c(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(t,e){return c(typeof vt<"u"),this.toArrayLike(vt,t,e)},u.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},u.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);c(n<=o,"byte array longer than desired length"),c(o>0,"Requested array length <= 0"),this.strip();var a=e==="le",l=new t(o),s,r,h=this.clone();if(a){for(r=0;!h.isZero();r++)s=h.andln(255),h.iushrn(8),l[r]=s;for(;r<o;r++)l[r]=0}else{for(r=0;r<o-n;r++)l[r]=0;for(r=0;!h.isZero();r++)s=h.andln(255),h.iushrn(8),l[o-r-1]=s}return l},Math.clz32?u.prototype._countBits=function(t){return 32-Math.clz32(t)}:u.prototype._countBits=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},u.prototype._zeroBits=function(t){if(t===0)return 26;var e=t,i=0;return e&8191||(i+=13,e>>>=13),e&127||(i+=7,e>>>=7),e&15||(i+=4,e>>>=4),e&3||(i+=2,e>>>=2),e&1||i++,i},u.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return(this.length-1)*26+e};function xt(f){for(var t=new Array(f.bitLength()),e=0;e<t.length;e++){var i=e/26|0,n=e%26;t[e]=(f.words[i]&1<<n)>>>n}return t}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._zeroBits(this.words[e]);if(t+=i,i!==26)break}return t},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},u.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},u.prototype.ior=function(t){return c((this.negative|t.negative)===0),this.iuor(t)},u.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},u.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},u.prototype.iuand=function(t){var e;this.length>t.length?e=t:e=this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.strip()},u.prototype.iand=function(t){return c((this.negative|t.negative)===0),this.iuand(t)},u.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},u.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},u.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},u.prototype.ixor=function(t){return c((this.negative|t.negative)===0),this.iuxor(t)},u.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},u.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},u.prototype.inotn=function(t){c(typeof t=="number"&&t>=0);var e=Math.ceil(t/26)|0,i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=~this.words[n]&67108863;return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},u.prototype.notn=function(t){return this.clone().inotn(t)},u.prototype.setn=function(t,e){c(typeof t=="number"&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),e?this.words[i]=this.words[i]|1<<n:this.words[i]=this.words[i]&~(1<<n),this.strip()},u.prototype.iadd=function(t){var e;if(this.negative!==0&&t.negative===0)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();var i,n;this.length>t.length?(i=this,n=t):(i=t,n=this);for(var o=0,a=0;a<n.length;a++)e=(i.words[a]|0)+(n.words[a]|0)+o,this.words[a]=e&67108863,o=e>>>26;for(;o!==0&&a<i.length;a++)e=(i.words[a]|0)+o,this.words[a]=e&67108863,o=e>>>26;if(this.length=i.length,o!==0)this.words[this.length]=o,this.length++;else if(i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this},u.prototype.add=function(t){var e;return t.negative!==0&&this.negative===0?(t.negative=0,e=this.sub(t),t.negative^=1,e):t.negative===0&&this.negative!==0?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},u.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var i=this.cmp(t);if(i===0)return this.negative=0,this.length=1,this.words[0]=0,this;var n,o;i>0?(n=this,o=t):(n=t,o=this);for(var a=0,l=0;l<o.length;l++)e=(n.words[l]|0)-(o.words[l]|0)+a,a=e>>26,this.words[l]=e&67108863;for(;a!==0&&l<n.length;l++)e=(n.words[l]|0)+a,a=e>>26,this.words[l]=e&67108863;if(a===0&&l<n.length&&n!==this)for(;l<n.length;l++)this.words[l]=n.words[l];return this.length=Math.max(this.length,l),n!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(t){return this.clone().isub(t)};function yt(f,t,e){e.negative=t.negative^f.negative;var i=f.length+t.length|0;e.length=i,i=i-1|0;var n=f.words[0]|0,o=t.words[0]|0,a=n*o,l=a&67108863,s=a/67108864|0;e.words[0]=l;for(var r=1;r<i;r++){for(var h=s>>>26,y=s&67108863,_=Math.min(r,t.length-1),x=Math.max(0,r-f.length+1);x<=_;x++){var b=r-x|0;n=f.words[b]|0,o=t.words[x]|0,a=n*o+y,h+=a/67108864|0,y=a&67108863}e.words[r]=y|0,s=h|0}return s!==0?e.words[r]=s|0:e.length--,e.strip()}var bt=function(t,e,i){var n=t.words,o=e.words,a=i.words,l=0,s,r,h,y=n[0]|0,_=y&8191,x=y>>>13,b=n[1]|0,I=b&8191,A=b>>>13,Mt=n[2]|0,q=Mt&8191,O=Mt>>>13,Dt=n[3]|0,N=Dt&8191,L=Dt>>>13,jt=n[4]|0,C=jt&8191,F=jt>>>13,Jt=n[5]|0,U=Jt&8191,Z=Jt>>>13,Wt=n[6]|0,$=Wt&8191,P=Wt>>>13,Qt=n[7]|0,z=Qt&8191,H=Qt>>>13,Gt=n[8]|0,K=Gt&8191,D=Gt>>>13,Vt=n[9]|0,j=Vt&8191,J=Vt>>>13,Yt=o[0]|0,W=Yt&8191,Q=Yt>>>13,Xt=o[1]|0,G=Xt&8191,V=Xt>>>13,tr=o[2]|0,Y=tr&8191,X=tr>>>13,rr=o[3]|0,tt=rr&8191,rt=rr>>>13,er=o[4]|0,et=er&8191,it=er>>>13,ir=o[5]|0,nt=ir&8191,st=ir>>>13,nr=o[6]|0,ht=nr&8191,ot=nr>>>13,sr=o[7]|0,ft=sr&8191,at=sr>>>13,hr=o[8]|0,ut=hr&8191,lt=hr>>>13,or=o[9]|0,dt=or&8191,ct=or>>>13;i.negative=t.negative^e.negative,i.length=19,s=Math.imul(_,W),r=Math.imul(_,Q),r=r+Math.imul(x,W)|0,h=Math.imul(x,Q);var Rt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,s=Math.imul(I,W),r=Math.imul(I,Q),r=r+Math.imul(A,W)|0,h=Math.imul(A,Q),s=s+Math.imul(_,G)|0,r=r+Math.imul(_,V)|0,r=r+Math.imul(x,G)|0,h=h+Math.imul(x,V)|0;var It=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(It>>>26)|0,It&=67108863,s=Math.imul(q,W),r=Math.imul(q,Q),r=r+Math.imul(O,W)|0,h=Math.imul(O,Q),s=s+Math.imul(I,G)|0,r=r+Math.imul(I,V)|0,r=r+Math.imul(A,G)|0,h=h+Math.imul(A,V)|0,s=s+Math.imul(_,Y)|0,r=r+Math.imul(_,X)|0,r=r+Math.imul(x,Y)|0,h=h+Math.imul(x,X)|0;var At=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(At>>>26)|0,At&=67108863,s=Math.imul(N,W),r=Math.imul(N,Q),r=r+Math.imul(L,W)|0,h=Math.imul(L,Q),s=s+Math.imul(q,G)|0,r=r+Math.imul(q,V)|0,r=r+Math.imul(O,G)|0,h=h+Math.imul(O,V)|0,s=s+Math.imul(I,Y)|0,r=r+Math.imul(I,X)|0,r=r+Math.imul(A,Y)|0,h=h+Math.imul(A,X)|0,s=s+Math.imul(_,tt)|0,r=r+Math.imul(_,rt)|0,r=r+Math.imul(x,tt)|0,h=h+Math.imul(x,rt)|0;var qt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(qt>>>26)|0,qt&=67108863,s=Math.imul(C,W),r=Math.imul(C,Q),r=r+Math.imul(F,W)|0,h=Math.imul(F,Q),s=s+Math.imul(N,G)|0,r=r+Math.imul(N,V)|0,r=r+Math.imul(L,G)|0,h=h+Math.imul(L,V)|0,s=s+Math.imul(q,Y)|0,r=r+Math.imul(q,X)|0,r=r+Math.imul(O,Y)|0,h=h+Math.imul(O,X)|0,s=s+Math.imul(I,tt)|0,r=r+Math.imul(I,rt)|0,r=r+Math.imul(A,tt)|0,h=h+Math.imul(A,rt)|0,s=s+Math.imul(_,et)|0,r=r+Math.imul(_,it)|0,r=r+Math.imul(x,et)|0,h=h+Math.imul(x,it)|0;var Ot=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,s=Math.imul(U,W),r=Math.imul(U,Q),r=r+Math.imul(Z,W)|0,h=Math.imul(Z,Q),s=s+Math.imul(C,G)|0,r=r+Math.imul(C,V)|0,r=r+Math.imul(F,G)|0,h=h+Math.imul(F,V)|0,s=s+Math.imul(N,Y)|0,r=r+Math.imul(N,X)|0,r=r+Math.imul(L,Y)|0,h=h+Math.imul(L,X)|0,s=s+Math.imul(q,tt)|0,r=r+Math.imul(q,rt)|0,r=r+Math.imul(O,tt)|0,h=h+Math.imul(O,rt)|0,s=s+Math.imul(I,et)|0,r=r+Math.imul(I,it)|0,r=r+Math.imul(A,et)|0,h=h+Math.imul(A,it)|0,s=s+Math.imul(_,nt)|0,r=r+Math.imul(_,st)|0,r=r+Math.imul(x,nt)|0,h=h+Math.imul(x,st)|0;var Tt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,s=Math.imul($,W),r=Math.imul($,Q),r=r+Math.imul(P,W)|0,h=Math.imul(P,Q),s=s+Math.imul(U,G)|0,r=r+Math.imul(U,V)|0,r=r+Math.imul(Z,G)|0,h=h+Math.imul(Z,V)|0,s=s+Math.imul(C,Y)|0,r=r+Math.imul(C,X)|0,r=r+Math.imul(F,Y)|0,h=h+Math.imul(F,X)|0,s=s+Math.imul(N,tt)|0,r=r+Math.imul(N,rt)|0,r=r+Math.imul(L,tt)|0,h=h+Math.imul(L,rt)|0,s=s+Math.imul(q,et)|0,r=r+Math.imul(q,it)|0,r=r+Math.imul(O,et)|0,h=h+Math.imul(O,it)|0,s=s+Math.imul(I,nt)|0,r=r+Math.imul(I,st)|0,r=r+Math.imul(A,nt)|0,h=h+Math.imul(A,st)|0,s=s+Math.imul(_,ht)|0,r=r+Math.imul(_,ot)|0,r=r+Math.imul(x,ht)|0,h=h+Math.imul(x,ot)|0;var Et=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,s=Math.imul(z,W),r=Math.imul(z,Q),r=r+Math.imul(H,W)|0,h=Math.imul(H,Q),s=s+Math.imul($,G)|0,r=r+Math.imul($,V)|0,r=r+Math.imul(P,G)|0,h=h+Math.imul(P,V)|0,s=s+Math.imul(U,Y)|0,r=r+Math.imul(U,X)|0,r=r+Math.imul(Z,Y)|0,h=h+Math.imul(Z,X)|0,s=s+Math.imul(C,tt)|0,r=r+Math.imul(C,rt)|0,r=r+Math.imul(F,tt)|0,h=h+Math.imul(F,rt)|0,s=s+Math.imul(N,et)|0,r=r+Math.imul(N,it)|0,r=r+Math.imul(L,et)|0,h=h+Math.imul(L,it)|0,s=s+Math.imul(q,nt)|0,r=r+Math.imul(q,st)|0,r=r+Math.imul(O,nt)|0,h=h+Math.imul(O,st)|0,s=s+Math.imul(I,ht)|0,r=r+Math.imul(I,ot)|0,r=r+Math.imul(A,ht)|0,h=h+Math.imul(A,ot)|0,s=s+Math.imul(_,ft)|0,r=r+Math.imul(_,at)|0,r=r+Math.imul(x,ft)|0,h=h+Math.imul(x,at)|0;var Bt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,s=Math.imul(K,W),r=Math.imul(K,Q),r=r+Math.imul(D,W)|0,h=Math.imul(D,Q),s=s+Math.imul(z,G)|0,r=r+Math.imul(z,V)|0,r=r+Math.imul(H,G)|0,h=h+Math.imul(H,V)|0,s=s+Math.imul($,Y)|0,r=r+Math.imul($,X)|0,r=r+Math.imul(P,Y)|0,h=h+Math.imul(P,X)|0,s=s+Math.imul(U,tt)|0,r=r+Math.imul(U,rt)|0,r=r+Math.imul(Z,tt)|0,h=h+Math.imul(Z,rt)|0,s=s+Math.imul(C,et)|0,r=r+Math.imul(C,it)|0,r=r+Math.imul(F,et)|0,h=h+Math.imul(F,it)|0,s=s+Math.imul(N,nt)|0,r=r+Math.imul(N,st)|0,r=r+Math.imul(L,nt)|0,h=h+Math.imul(L,st)|0,s=s+Math.imul(q,ht)|0,r=r+Math.imul(q,ot)|0,r=r+Math.imul(O,ht)|0,h=h+Math.imul(O,ot)|0,s=s+Math.imul(I,ft)|0,r=r+Math.imul(I,at)|0,r=r+Math.imul(A,ft)|0,h=h+Math.imul(A,at)|0,s=s+Math.imul(_,ut)|0,r=r+Math.imul(_,lt)|0,r=r+Math.imul(x,ut)|0,h=h+Math.imul(x,lt)|0;var Nt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,s=Math.imul(j,W),r=Math.imul(j,Q),r=r+Math.imul(J,W)|0,h=Math.imul(J,Q),s=s+Math.imul(K,G)|0,r=r+Math.imul(K,V)|0,r=r+Math.imul(D,G)|0,h=h+Math.imul(D,V)|0,s=s+Math.imul(z,Y)|0,r=r+Math.imul(z,X)|0,r=r+Math.imul(H,Y)|0,h=h+Math.imul(H,X)|0,s=s+Math.imul($,tt)|0,r=r+Math.imul($,rt)|0,r=r+Math.imul(P,tt)|0,h=h+Math.imul(P,rt)|0,s=s+Math.imul(U,et)|0,r=r+Math.imul(U,it)|0,r=r+Math.imul(Z,et)|0,h=h+Math.imul(Z,it)|0,s=s+Math.imul(C,nt)|0,r=r+Math.imul(C,st)|0,r=r+Math.imul(F,nt)|0,h=h+Math.imul(F,st)|0,s=s+Math.imul(N,ht)|0,r=r+Math.imul(N,ot)|0,r=r+Math.imul(L,ht)|0,h=h+Math.imul(L,ot)|0,s=s+Math.imul(q,ft)|0,r=r+Math.imul(q,at)|0,r=r+Math.imul(O,ft)|0,h=h+Math.imul(O,at)|0,s=s+Math.imul(I,ut)|0,r=r+Math.imul(I,lt)|0,r=r+Math.imul(A,ut)|0,h=h+Math.imul(A,lt)|0,s=s+Math.imul(_,dt)|0,r=r+Math.imul(_,ct)|0,r=r+Math.imul(x,dt)|0,h=h+Math.imul(x,ct)|0;var Lt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,s=Math.imul(j,G),r=Math.imul(j,V),r=r+Math.imul(J,G)|0,h=Math.imul(J,V),s=s+Math.imul(K,Y)|0,r=r+Math.imul(K,X)|0,r=r+Math.imul(D,Y)|0,h=h+Math.imul(D,X)|0,s=s+Math.imul(z,tt)|0,r=r+Math.imul(z,rt)|0,r=r+Math.imul(H,tt)|0,h=h+Math.imul(H,rt)|0,s=s+Math.imul($,et)|0,r=r+Math.imul($,it)|0,r=r+Math.imul(P,et)|0,h=h+Math.imul(P,it)|0,s=s+Math.imul(U,nt)|0,r=r+Math.imul(U,st)|0,r=r+Math.imul(Z,nt)|0,h=h+Math.imul(Z,st)|0,s=s+Math.imul(C,ht)|0,r=r+Math.imul(C,ot)|0,r=r+Math.imul(F,ht)|0,h=h+Math.imul(F,ot)|0,s=s+Math.imul(N,ft)|0,r=r+Math.imul(N,at)|0,r=r+Math.imul(L,ft)|0,h=h+Math.imul(L,at)|0,s=s+Math.imul(q,ut)|0,r=r+Math.imul(q,lt)|0,r=r+Math.imul(O,ut)|0,h=h+Math.imul(O,lt)|0,s=s+Math.imul(I,dt)|0,r=r+Math.imul(I,ct)|0,r=r+Math.imul(A,dt)|0,h=h+Math.imul(A,ct)|0;var Ct=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,s=Math.imul(j,Y),r=Math.imul(j,X),r=r+Math.imul(J,Y)|0,h=Math.imul(J,X),s=s+Math.imul(K,tt)|0,r=r+Math.imul(K,rt)|0,r=r+Math.imul(D,tt)|0,h=h+Math.imul(D,rt)|0,s=s+Math.imul(z,et)|0,r=r+Math.imul(z,it)|0,r=r+Math.imul(H,et)|0,h=h+Math.imul(H,it)|0,s=s+Math.imul($,nt)|0,r=r+Math.imul($,st)|0,r=r+Math.imul(P,nt)|0,h=h+Math.imul(P,st)|0,s=s+Math.imul(U,ht)|0,r=r+Math.imul(U,ot)|0,r=r+Math.imul(Z,ht)|0,h=h+Math.imul(Z,ot)|0,s=s+Math.imul(C,ft)|0,r=r+Math.imul(C,at)|0,r=r+Math.imul(F,ft)|0,h=h+Math.imul(F,at)|0,s=s+Math.imul(N,ut)|0,r=r+Math.imul(N,lt)|0,r=r+Math.imul(L,ut)|0,h=h+Math.imul(L,lt)|0,s=s+Math.imul(q,dt)|0,r=r+Math.imul(q,ct)|0,r=r+Math.imul(O,dt)|0,h=h+Math.imul(O,ct)|0;var Ft=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,s=Math.imul(j,tt),r=Math.imul(j,rt),r=r+Math.imul(J,tt)|0,h=Math.imul(J,rt),s=s+Math.imul(K,et)|0,r=r+Math.imul(K,it)|0,r=r+Math.imul(D,et)|0,h=h+Math.imul(D,it)|0,s=s+Math.imul(z,nt)|0,r=r+Math.imul(z,st)|0,r=r+Math.imul(H,nt)|0,h=h+Math.imul(H,st)|0,s=s+Math.imul($,ht)|0,r=r+Math.imul($,ot)|0,r=r+Math.imul(P,ht)|0,h=h+Math.imul(P,ot)|0,s=s+Math.imul(U,ft)|0,r=r+Math.imul(U,at)|0,r=r+Math.imul(Z,ft)|0,h=h+Math.imul(Z,at)|0,s=s+Math.imul(C,ut)|0,r=r+Math.imul(C,lt)|0,r=r+Math.imul(F,ut)|0,h=h+Math.imul(F,lt)|0,s=s+Math.imul(N,dt)|0,r=r+Math.imul(N,ct)|0,r=r+Math.imul(L,dt)|0,h=h+Math.imul(L,ct)|0;var Ut=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,s=Math.imul(j,et),r=Math.imul(j,it),r=r+Math.imul(J,et)|0,h=Math.imul(J,it),s=s+Math.imul(K,nt)|0,r=r+Math.imul(K,st)|0,r=r+Math.imul(D,nt)|0,h=h+Math.imul(D,st)|0,s=s+Math.imul(z,ht)|0,r=r+Math.imul(z,ot)|0,r=r+Math.imul(H,ht)|0,h=h+Math.imul(H,ot)|0,s=s+Math.imul($,ft)|0,r=r+Math.imul($,at)|0,r=r+Math.imul(P,ft)|0,h=h+Math.imul(P,at)|0,s=s+Math.imul(U,ut)|0,r=r+Math.imul(U,lt)|0,r=r+Math.imul(Z,ut)|0,h=h+Math.imul(Z,lt)|0,s=s+Math.imul(C,dt)|0,r=r+Math.imul(C,ct)|0,r=r+Math.imul(F,dt)|0,h=h+Math.imul(F,ct)|0;var Zt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,s=Math.imul(j,nt),r=Math.imul(j,st),r=r+Math.imul(J,nt)|0,h=Math.imul(J,st),s=s+Math.imul(K,ht)|0,r=r+Math.imul(K,ot)|0,r=r+Math.imul(D,ht)|0,h=h+Math.imul(D,ot)|0,s=s+Math.imul(z,ft)|0,r=r+Math.imul(z,at)|0,r=r+Math.imul(H,ft)|0,h=h+Math.imul(H,at)|0,s=s+Math.imul($,ut)|0,r=r+Math.imul($,lt)|0,r=r+Math.imul(P,ut)|0,h=h+Math.imul(P,lt)|0,s=s+Math.imul(U,dt)|0,r=r+Math.imul(U,ct)|0,r=r+Math.imul(Z,dt)|0,h=h+Math.imul(Z,ct)|0;var $t=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+($t>>>26)|0,$t&=67108863,s=Math.imul(j,ht),r=Math.imul(j,ot),r=r+Math.imul(J,ht)|0,h=Math.imul(J,ot),s=s+Math.imul(K,ft)|0,r=r+Math.imul(K,at)|0,r=r+Math.imul(D,ft)|0,h=h+Math.imul(D,at)|0,s=s+Math.imul(z,ut)|0,r=r+Math.imul(z,lt)|0,r=r+Math.imul(H,ut)|0,h=h+Math.imul(H,lt)|0,s=s+Math.imul($,dt)|0,r=r+Math.imul($,ct)|0,r=r+Math.imul(P,dt)|0,h=h+Math.imul(P,ct)|0;var Pt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,s=Math.imul(j,ft),r=Math.imul(j,at),r=r+Math.imul(J,ft)|0,h=Math.imul(J,at),s=s+Math.imul(K,ut)|0,r=r+Math.imul(K,lt)|0,r=r+Math.imul(D,ut)|0,h=h+Math.imul(D,lt)|0,s=s+Math.imul(z,dt)|0,r=r+Math.imul(z,ct)|0,r=r+Math.imul(H,dt)|0,h=h+Math.imul(H,ct)|0;var zt=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(zt>>>26)|0,zt&=67108863,s=Math.imul(j,ut),r=Math.imul(j,lt),r=r+Math.imul(J,ut)|0,h=Math.imul(J,lt),s=s+Math.imul(K,dt)|0,r=r+Math.imul(K,ct)|0,r=r+Math.imul(D,dt)|0,h=h+Math.imul(D,ct)|0;var Ht=(l+s|0)+((r&8191)<<13)|0;l=(h+(r>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,s=Math.imul(j,dt),r=Math.imul(j,ct),r=r+Math.imul(J,dt)|0,h=Math.imul(J,ct);var Kt=(l+s|0)+((r&8191)<<13)|0;return l=(h+(r>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,a[0]=Rt,a[1]=It,a[2]=At,a[3]=qt,a[4]=Ot,a[5]=Tt,a[6]=Et,a[7]=Bt,a[8]=Nt,a[9]=Lt,a[10]=Ct,a[11]=Ft,a[12]=Ut,a[13]=Zt,a[14]=$t,a[15]=Pt,a[16]=zt,a[17]=Ht,a[18]=Kt,l!==0&&(a[19]=l,i.length++),i};Math.imul||(bt=yt);function kt(f,t,e){e.negative=t.negative^f.negative,e.length=f.length+t.length;for(var i=0,n=0,o=0;o<e.length-1;o++){var a=n;n=0;for(var l=i&67108863,s=Math.min(o,t.length-1),r=Math.max(0,o-f.length+1);r<=s;r++){var h=o-r,y=f.words[h]|0,_=t.words[r]|0,x=y*_,b=x&67108863;a=a+(x/67108864|0)|0,b=b+l|0,l=b&67108863,a=a+(b>>>26)|0,n+=a>>>26,a&=67108863}e.words[o]=l,i=a,a=n}return i!==0?e.words[o]=i:e.length--,e.strip()}function m(f,t,e){var i=new p;return i.mulp(f,t,e)}u.prototype.mulTo=function(t,e){var i,n=this.length+t.length;return this.length===10&&t.length===10?i=bt(this,t,e):n<63?i=yt(this,t,e):n<1024?i=kt(this,t,e):i=m(this,t,e),i};function p(f,t){this.x=f,this.y=t}p.prototype.makeRBT=function(t){for(var e=new Array(t),i=u.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,i,t);return e},p.prototype.revBin=function(t,e,i){if(t===0||t===i-1)return t;for(var n=0,o=0;o<e;o++)n|=(t&1)<<e-o-1,t>>=1;return n},p.prototype.permute=function(t,e,i,n,o,a){for(var l=0;l<a;l++)n[l]=e[t[l]],o[l]=i[t[l]]},p.prototype.transform=function(t,e,i,n,o,a){this.permute(a,t,e,i,n,o);for(var l=1;l<o;l<<=1)for(var s=l<<1,r=Math.cos(2*Math.PI/s),h=Math.sin(2*Math.PI/s),y=0;y<o;y+=s)for(var _=r,x=h,b=0;b<l;b++){var I=i[y+b],A=n[y+b],Mt=i[y+b+l],q=n[y+b+l],O=_*Mt-x*q;q=_*q+x*Mt,Mt=O,i[y+b]=I+Mt,n[y+b]=A+q,i[y+b+l]=I-Mt,n[y+b+l]=A-q,b!==s&&(O=r*_-h*x,x=r*x+h*_,_=O)}},p.prototype.guessLen13b=function(t,e){var i=Math.max(e,t)|1,n=i&1,o=0;for(i=i/2|0;i;i=i>>>1)o++;return 1<<o+1+n},p.prototype.conjugate=function(t,e,i){if(!(i<=1))for(var n=0;n<i/2;n++){var o=t[n];t[n]=t[i-n-1],t[i-n-1]=o,o=e[n],e[n]=-e[i-n-1],e[i-n-1]=-o}},p.prototype.normalize13b=function(t,e){for(var i=0,n=0;n<e/2;n++){var o=Math.round(t[2*n+1]/e)*8192+Math.round(t[2*n]/e)+i;t[n]=o&67108863,o<67108864?i=0:i=o/67108864|0}return t},p.prototype.convert13b=function(t,e,i,n){for(var o=0,a=0;a<e;a++)o=o+(t[a]|0),i[2*a]=o&8191,o=o>>>13,i[2*a+1]=o&8191,o=o>>>13;for(a=2*e;a<n;++a)i[a]=0;c(o===0),c((o&-8192)===0)},p.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},p.prototype.mulp=function(t,e,i){var n=2*this.guessLen13b(t.length,e.length),o=this.makeRBT(n),a=this.stub(n),l=new Array(n),s=new Array(n),r=new Array(n),h=new Array(n),y=new Array(n),_=new Array(n),x=i.words;x.length=n,this.convert13b(t.words,t.length,l,n),this.convert13b(e.words,e.length,h,n),this.transform(l,a,s,r,n,o),this.transform(h,a,y,_,n,o);for(var b=0;b<n;b++){var I=s[b]*y[b]-r[b]*_[b];r[b]=s[b]*_[b]+r[b]*y[b],s[b]=I}return this.conjugate(s,r,n),this.transform(s,r,x,a,n,o),this.conjugate(x,a,n),this.normalize13b(x,n),i.negative=t.negative^e.negative,i.length=t.length+e.length,i.strip()},u.prototype.mul=function(t){var e=new u(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},u.prototype.mulf=function(t){var e=new u(null);return e.words=new Array(this.length+t.length),m(this,t,e)},u.prototype.imul=function(t){return this.clone().mulTo(t,this)},u.prototype.imuln=function(t){c(typeof t=="number"),c(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(this.words[i]|0)*t,o=(n&67108863)+(e&67108863);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=o&67108863}return e!==0&&(this.words[i]=e,this.length++),this},u.prototype.muln=function(t){return this.clone().imuln(t)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(t){var e=xt(t);if(e.length===0)return new u(1);for(var i=this,n=0;n<e.length&&e[n]===0;n++,i=i.sqr());if(++n<e.length)for(var o=i.sqr();n<e.length;n++,o=o.sqr())e[n]!==0&&(i=i.mul(o));return i},u.prototype.iushln=function(t){c(typeof t=="number"&&t>=0);var e=t%26,i=(t-e)/26,n=67108863>>>26-e<<26-e,o;if(e!==0){var a=0;for(o=0;o<this.length;o++){var l=this.words[o]&n,s=(this.words[o]|0)-l<<e;this.words[o]=s|a,a=l>>>26-e}a&&(this.words[o]=a,this.length++)}if(i!==0){for(o=this.length-1;o>=0;o--)this.words[o+i]=this.words[o];for(o=0;o<i;o++)this.words[o]=0;this.length+=i}return this.strip()},u.prototype.ishln=function(t){return c(this.negative===0),this.iushln(t)},u.prototype.iushrn=function(t,e,i){c(typeof t=="number"&&t>=0);var n;e?n=(e-e%26)/26:n=0;var o=t%26,a=Math.min((t-o)/26,this.length),l=67108863^67108863>>>o<<o,s=i;if(n-=a,n=Math.max(0,n),s){for(var r=0;r<a;r++)s.words[r]=this.words[r];s.length=a}if(a!==0)if(this.length>a)for(this.length-=a,r=0;r<this.length;r++)this.words[r]=this.words[r+a];else this.words[0]=0,this.length=1;var h=0;for(r=this.length-1;r>=0&&(h!==0||r>=n);r--){var y=this.words[r]|0;this.words[r]=h<<26-o|y>>>o,h=y&l}return s&&h!==0&&(s.words[s.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(t,e,i){return c(this.negative===0),this.iushrn(t,e,i)},u.prototype.shln=function(t){return this.clone().ishln(t)},u.prototype.ushln=function(t){return this.clone().iushln(t)},u.prototype.shrn=function(t){return this.clone().ishrn(t)},u.prototype.ushrn=function(t){return this.clone().iushrn(t)},u.prototype.testn=function(t){c(typeof t=="number"&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return!1;var o=this.words[i];return!!(o&n)},u.prototype.imaskn=function(t){c(typeof t=="number"&&t>=0);var e=t%26,i=(t-e)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=i)return this;if(e!==0&&i++,this.length=Math.min(i,this.length),e!==0){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},u.prototype.maskn=function(t){return this.clone().imaskn(t)},u.prototype.iaddn=function(t){return c(typeof t=="number"),c(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},u.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},u.prototype.isubn=function(t){if(c(typeof t=="number"),c(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},u.prototype.addn=function(t){return this.clone().iaddn(t)},u.prototype.subn=function(t){return this.clone().isubn(t)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(t,e,i){var n=t.length+i,o;this._expand(n);var a,l=0;for(o=0;o<t.length;o++){a=(this.words[o+i]|0)+l;var s=(t.words[o]|0)*e;a-=s&67108863,l=(a>>26)-(s/67108864|0),this.words[o+i]=a&67108863}for(;o<this.length-i;o++)a=(this.words[o+i]|0)+l,l=a>>26,this.words[o+i]=a&67108863;if(l===0)return this.strip();for(c(l===-1),l=0,o=0;o<this.length;o++)a=-(this.words[o]|0)+l,l=a>>26,this.words[o]=a&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(t,e){var i=this.length-t.length,n=this.clone(),o=t,a=o.words[o.length-1]|0,l=this._countBits(a);i=26-l,i!==0&&(o=o.ushln(i),n.iushln(i),a=o.words[o.length-1]|0);var s=n.length-o.length,r;if(e!=="mod"){r=new u(null),r.length=s+1,r.words=new Array(r.length);for(var h=0;h<r.length;h++)r.words[h]=0}var y=n.clone()._ishlnsubmul(o,1,s);y.negative===0&&(n=y,r&&(r.words[s]=1));for(var _=s-1;_>=0;_--){var x=(n.words[o.length+_]|0)*67108864+(n.words[o.length+_-1]|0);for(x=Math.min(x/a|0,67108863),n._ishlnsubmul(o,x,_);n.negative!==0;)x--,n.negative=0,n._ishlnsubmul(o,1,_),n.isZero()||(n.negative^=1);r&&(r.words[_]=x)}return r&&r.strip(),n.strip(),e!=="div"&&i!==0&&n.iushrn(i),{div:r||null,mod:n}},u.prototype.divmod=function(t,e,i){if(c(!t.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var n,o,a;return this.negative!==0&&t.negative===0?(a=this.neg().divmod(t,e),e!=="mod"&&(n=a.div.neg()),e!=="div"&&(o=a.mod.neg(),i&&o.negative!==0&&o.iadd(t)),{div:n,mod:o}):this.negative===0&&t.negative!==0?(a=this.divmod(t.neg(),e),e!=="mod"&&(n=a.div.neg()),{div:n,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),e!=="div"&&(o=a.mod.neg(),i&&o.negative!==0&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new u(0),mod:this}:t.length===1?e==="div"?{div:this.divn(t.words[0]),mod:null}:e==="mod"?{div:null,mod:new u(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new u(this.modn(t.words[0]))}:this._wordDiv(t,e)},u.prototype.div=function(t){return this.divmod(t,"div",!1).div},u.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},u.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},u.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=e.div.negative!==0?e.mod.isub(t):e.mod,n=t.ushrn(1),o=t.andln(1),a=i.cmp(n);return a<0||o===1&&a===0?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)},u.prototype.modn=function(t){c(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(this.words[n]|0))%t;return i},u.prototype.idivn=function(t){c(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(this.words[i]|0)+e*67108864;this.words[i]=n/t|0,e=n%t}return this.strip()},u.prototype.divn=function(t){return this.clone().idivn(t)},u.prototype.egcd=function(t){c(t.negative===0),c(!t.isZero());var e=this,i=t.clone();e.negative!==0?e=e.umod(t):e=e.clone();for(var n=new u(1),o=new u(0),a=new u(0),l=new u(1),s=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++s;for(var r=i.clone(),h=e.clone();!e.isZero();){for(var y=0,_=1;!(e.words[0]&_)&&y<26;++y,_<<=1);if(y>0)for(e.iushrn(y);y-- >0;)(n.isOdd()||o.isOdd())&&(n.iadd(r),o.isub(h)),n.iushrn(1),o.iushrn(1);for(var x=0,b=1;!(i.words[0]&b)&&x<26;++x,b<<=1);if(x>0)for(i.iushrn(x);x-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(r),l.isub(h)),a.iushrn(1),l.iushrn(1);e.cmp(i)>=0?(e.isub(i),n.isub(a),o.isub(l)):(i.isub(e),a.isub(n),l.isub(o))}return{a,b:l,gcd:i.iushln(s)}},u.prototype._invmp=function(t){c(t.negative===0),c(!t.isZero());var e=this,i=t.clone();e.negative!==0?e=e.umod(t):e=e.clone();for(var n=new u(1),o=new u(0),a=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var l=0,s=1;!(e.words[0]&s)&&l<26;++l,s<<=1);if(l>0)for(e.iushrn(l);l-- >0;)n.isOdd()&&n.iadd(a),n.iushrn(1);for(var r=0,h=1;!(i.words[0]&h)&&r<26;++r,h<<=1);if(r>0)for(i.iushrn(r);r-- >0;)o.isOdd()&&o.iadd(a),o.iushrn(1);e.cmp(i)>=0?(e.isub(i),n.isub(o)):(i.isub(e),o.isub(n))}var y;return e.cmpn(1)===0?y=n:y=o,y.cmpn(0)<0&&y.iadd(t),y},u.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);do{for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var o=e.cmp(i);if(o<0){var a=e;e=i,i=a}else if(o===0||i.cmpn(1)===0)break;e.isub(i)}while(!0);return i.iushln(n)},u.prototype.invm=function(t){return this.egcd(t).a.umod(t)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(t){return this.words[0]&t},u.prototype.bincn=function(t){c(typeof t=="number");var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,a=i;o!==0&&a<this.length;a++){var l=this.words[a]|0;l+=o,o=l>>>26,l&=67108863,this.words[a]=l}return o!==0&&(this.words[a]=o,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(t){var e=t<0;if(this.negative!==0&&!e)return-1;if(this.negative===0&&e)return 1;this.strip();var i;if(this.length>1)i=1;else{e&&(t=-t),c(t<=67108863,"Number is too big");var n=this.words[0]|0;i=n===t?0:n<t?-1:1}return this.negative!==0?-i|0:i},u.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var e=this.ucmp(t);return this.negative!==0?-e|0:e},u.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=this.words[i]|0,o=t.words[i]|0;if(n!==o){n<o?e=-1:n>o&&(e=1);break}}return e},u.prototype.gtn=function(t){return this.cmpn(t)===1},u.prototype.gt=function(t){return this.cmp(t)===1},u.prototype.gten=function(t){return this.cmpn(t)>=0},u.prototype.gte=function(t){return this.cmp(t)>=0},u.prototype.ltn=function(t){return this.cmpn(t)===-1},u.prototype.lt=function(t){return this.cmp(t)===-1},u.prototype.lten=function(t){return this.cmpn(t)<=0},u.prototype.lte=function(t){return this.cmp(t)<=0},u.prototype.eqn=function(t){return this.cmpn(t)===0},u.prototype.eq=function(t){return this.cmp(t)===0},u.red=function(t){return new B(t)},u.prototype.toRed=function(t){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},u.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(t){return this.red=t,this},u.prototype.forceRed=function(t){return c(!this.red,"Already a number in reduction context"),this._forceRed(t)},u.prototype.redAdd=function(t){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},u.prototype.redIAdd=function(t){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},u.prototype.redSub=function(t){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},u.prototype.redISub=function(t){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},u.prototype.redShl=function(t){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},u.prototype.redMul=function(t){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},u.prototype.redIMul=function(t){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},u.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(t){return c(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function M(f,t){this.name=f,this.p=new u(t,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var t=new u(null);return t.words=new Array(Math.ceil(this.n/13)),t},M.prototype.ireduce=function(t){var e=t,i;do this.split(e,this.tmp),e=this.imulK(e),e=e.iadd(this.tmp),i=e.bitLength();while(i>this.n);var n=i<this.n?-1:e.ucmp(this.p);return n===0?(e.words[0]=0,e.length=1):n>0?e.isub(this.p):e.strip(),e},M.prototype.split=function(t,e){t.iushrn(this.n,0,e)},M.prototype.imulK=function(t){return t.imul(this.k)};function S(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}R(S,M),S.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),o=0;o<n;o++)e.words[o]=t.words[o];if(e.length=n,t.length<=9){t.words[0]=0,t.length=1;return}var a=t.words[9];for(e.words[e.length++]=a&i,o=10;o<t.length;o++){var l=t.words[o]|0;t.words[o-10]=(l&i)<<4|a>>>22,a=l}a>>>=22,t.words[o-10]=a,a===0&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=t.words[i]|0;e+=n*977,t.words[i]=e&67108863,e=n*64+(e/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function E(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}R(E,M);function k(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}R(k,M);function mt(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}R(mt,M),mt.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=(t.words[i]|0)*19+e,o=n&67108863;n>>>=26,t.words[i]=o,e=n}return e!==0&&(t.words[t.length++]=e),t},u._prime=function(t){if(w[t])return w[t];var e;if(t==="k256")e=new S;else if(t==="p224")e=new E;else if(t==="p192")e=new k;else if(t==="p25519")e=new mt;else throw new Error("Unknown prime "+t);return w[t]=e,e};function B(f){if(typeof f=="string"){var t=u._prime(f);this.m=t.p,this.prime=t}else c(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}B.prototype._verify1=function(t){c(t.negative===0,"red works only with positives"),c(t.red,"red works only with red numbers")},B.prototype._verify2=function(t,e){c((t.negative|e.negative)===0,"red works only with positives"),c(t.red&&t.red===e.red,"red works only with red numbers")},B.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},B.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},B.prototype.add=function(t,e){this._verify2(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},B.prototype.iadd=function(t,e){this._verify2(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},B.prototype.sub=function(t,e){this._verify2(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},B.prototype.isub=function(t,e){this._verify2(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},B.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},B.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},B.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},B.prototype.isqr=function(t){return this.imul(t,t.clone())},B.prototype.sqr=function(t){return this.mul(t,t)},B.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(c(e%2===1),e===3){var i=this.m.add(new u(1)).iushrn(2);return this.pow(t,i)}for(var n=this.m.subn(1),o=0;!n.isZero()&&n.andln(1)===0;)o++,n.iushrn(1);c(!n.isZero());var a=new u(1).toRed(this),l=a.redNeg(),s=this.m.subn(1).iushrn(1),r=this.m.bitLength();for(r=new u(2*r*r).toRed(this);this.pow(r,s).cmp(l)!==0;)r.redIAdd(l);for(var h=this.pow(r,n),y=this.pow(t,n.addn(1).iushrn(1)),_=this.pow(t,n),x=o;_.cmp(a)!==0;){for(var b=_,I=0;b.cmp(a)!==0;I++)b=b.redSqr();c(I<x);var A=this.pow(h,new u(1).iushln(x-I-1));y=y.redMul(A),h=A.redSqr(),_=_.redMul(h),x=I}return y},B.prototype.invm=function(t){var e=t._invmp(this.m);return e.negative!==0?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},B.prototype.pow=function(t,e){if(e.isZero())return new u(1).toRed(this);if(e.cmpn(1)===0)return t.clone();var i=4,n=new Array(1<<i);n[0]=new u(1).toRed(this),n[1]=t;for(var o=2;o<n.length;o++)n[o]=this.mul(n[o-1],t);var a=n[0],l=0,s=0,r=e.bitLength()%26;for(r===0&&(r=26),o=e.length-1;o>=0;o--){for(var h=e.words[o],y=r-1;y>=0;y--){var _=h>>y&1;if(a!==n[0]&&(a=this.sqr(a)),_===0&&l===0){s=0;continue}l<<=1,l|=_,s++,!(s!==i&&(o!==0||y!==0))&&(a=this.mul(a,n[l]),s=0,l=0)}r=26}return a},B.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},B.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},u.mont=function(t){return new wt(t)};function wt(f){B.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R(wt,B),wt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},wt.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},wt.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=i.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},wt.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new u(0)._forceRed(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=i.isub(n).iushrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},wt.prototype.invm=function(t){var e=this.imod(t._invmp(this.m).mul(this.r2));return e._forceRed(this)}})(v,qr)})(Zr);Zr.exports;function Ir(v){return _r(new Uint8Array(v))}function Ji(v){return cr(v).buffer}var Wi={};(function(v){const d=Tr,g=Er,c=Or,R=m=>m==null;function u(m){switch(m.arrayFormat){case"index":return p=>(w,M)=>{const S=w.length;return M===void 0||m.skipNull&&M===null||m.skipEmptyString&&M===""?w:M===null?[...w,[T(p,m),"[",S,"]"].join("")]:[...w,[T(p,m),"[",T(S,m),"]=",T(M,m)].join("")]};case"bracket":return p=>(w,M)=>M===void 0||m.skipNull&&M===null||m.skipEmptyString&&M===""?w:M===null?[...w,[T(p,m),"[]"].join("")]:[...w,[T(p,m),"[]=",T(M,m)].join("")];case"comma":case"separator":return p=>(w,M)=>M==null||M.length===0?w:w.length===0?[[T(p,m),"=",T(M,m)].join("")]:[[w,T(M,m)].join(m.arrayFormatSeparator)];default:return p=>(w,M)=>M===void 0||m.skipNull&&M===null||m.skipEmptyString&&M===""?w:M===null?[...w,T(p,m)]:[...w,[T(p,m),"=",T(M,m)].join("")]}}function vt(m){let p;switch(m.arrayFormat){case"index":return(w,M,S)=>{if(p=/\[(\d*)\]$/.exec(w),w=w.replace(/\[\d*\]$/,""),!p){S[w]=M;return}S[w]===void 0&&(S[w]={}),S[w][p[1]]=M};case"bracket":return(w,M,S)=>{if(p=/(\[\])$/.exec(w),w=w.replace(/\[\]$/,""),!p){S[w]=M;return}if(S[w]===void 0){S[w]=[M];return}S[w]=[].concat(S[w],M)};case"comma":case"separator":return(w,M,S)=>{const k=typeof M=="string"&&M.split("").indexOf(m.arrayFormatSeparator)>-1?M.split(m.arrayFormatSeparator).map(mt=>pt(mt,m)):M===null?M:pt(M,m);S[w]=k};default:return(w,M,S)=>{if(S[w]===void 0){S[w]=M;return}S[w]=[].concat(S[w],M)}}}function gt(m){if(typeof m!="string"||m.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function T(m,p){return p.encode?p.strict?d(m):encodeURIComponent(m):m}function pt(m,p){return p.decode?g(m):m}function St(m){return Array.isArray(m)?m.sort():typeof m=="object"?St(Object.keys(m)).sort((p,w)=>Number(p)-Number(w)).map(p=>m[p]):m}function _t(m){const p=m.indexOf("#");return p!==-1&&(m=m.slice(0,p)),m}function xt(m){let p="";const w=m.indexOf("#");return w!==-1&&(p=m.slice(w)),p}function yt(m){m=_t(m);const p=m.indexOf("?");return p===-1?"":m.slice(p+1)}function bt(m,p){return p.parseNumbers&&!Number.isNaN(Number(m))&&typeof m=="string"&&m.trim()!==""?m=Number(m):p.parseBooleans&&m!==null&&(m.toLowerCase()==="true"||m.toLowerCase()==="false")&&(m=m.toLowerCase()==="true"),m}function kt(m,p){p=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},p),gt(p.arrayFormatSeparator);const w=vt(p),M=Object.create(null);if(typeof m!="string"||(m=m.trim().replace(/^[?#&]/,""),!m))return M;for(const S of m.split("&")){let[E,k]=c(p.decode?S.replace(/\+/g," "):S,"=");k=k===void 0?null:["comma","separator"].includes(p.arrayFormat)?k:pt(k,p),w(pt(E,p),k,M)}for(const S of Object.keys(M)){const E=M[S];if(typeof E=="object"&&E!==null)for(const k of Object.keys(E))E[k]=bt(E[k],p);else M[S]=bt(E,p)}return p.sort===!1?M:(p.sort===!0?Object.keys(M).sort():Object.keys(M).sort(p.sort)).reduce((S,E)=>{const k=M[E];return k&&typeof k=="object"&&!Array.isArray(k)?S[E]=St(k):S[E]=k,S},Object.create(null))}v.extract=yt,v.parse=kt,v.stringify=(m,p)=>{if(!m)return"";p=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},p),gt(p.arrayFormatSeparator);const w=k=>p.skipNull&&R(m[k])||p.skipEmptyString&&m[k]==="",M=u(p),S={};for(const k of Object.keys(m))w(k)||(S[k]=m[k]);const E=Object.keys(S);return p.sort!==!1&&E.sort(p.sort),E.map(k=>{const mt=m[k];return mt===void 0?"":mt===null?T(k,p):Array.isArray(mt)?mt.reduce(M(k),[]).join("&"):T(k,p)+"="+T(mt,p)}).filter(k=>k.length>0).join("&")},v.parseUrl=(m,p)=>{p=Object.assign({decode:!0},p);const[w,M]=c(m,"#");return Object.assign({url:w.split("?")[0]||"",query:kt(yt(m),p)},p&&p.parseFragmentIdentifier&&M?{fragmentIdentifier:pt(M,p)}:{})},v.stringifyUrl=(m,p)=>{p=Object.assign({encode:!0,strict:!0},p);const w=_t(m.url).split("?")[0]||"",M=v.extract(m.url),S=v.parse(M,{sort:!1}),E=Object.assign(S,m.query);let k=v.stringify(E,p);k&&(k=`?${k}`);let mt=xt(m.url);return m.fragmentIdentifier&&(mt=`#${T(m.fragmentIdentifier,p)}`),`${w}${k}${mt}`}})(Wi);async function de(v){const d=(v||256)/8,g=Bi(d);return Ji(_r(g))}async function ce(v,d){const g=dr(v.data),c=dr(v.iv),R=dr(v.hmac),u=lr(R,!1),vt=ie(g,c),gt=await le(d,vt),T=lr(gt,!1);return fr(u)===fr(T)}async function Qi(v,d,g){const c=cr(Ir(d)),R=g||await de(128),u=cr(Ir(R)),vt=lr(u,!1),gt=JSON.stringify(v),T=Be(gt),pt=await Di(u,c,T),St=lr(pt,!1),_t=ie(pt,u),xt=await le(c,_t),yt=lr(xt,!1);return{data:St,hmac:yt,iv:vt}}async function Gi(v,d){const g=cr(Ir(d));if(!g)throw new Error("Missing key: required for decryption");if(!await ce(v,g))return null;const R=dr(v.data),u=dr(v.iv),vt=await ji(u,g,R),gt=Te(vt);let T;try{T=JSON.parse(gt)}catch{return null}return T}const Vi=Object.freeze(Object.defineProperty({__proto__:null,decrypt:Gi,encrypt:Qi,generateKey:de,verifyHmac:ce},Symbol.toStringTag,{value:"Module"}));class tn extends Ei{constructor(d,g){super({cryptoLib:Vi,connectorOpts:d,pushServerOpts:g})}}export{tn as default};
